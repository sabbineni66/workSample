<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//Samba-Team//DTD DocBook V4.2-Based Variant V1.0//EN" "http://www.samba.org/samba/DTD/samba-doc">
<chapter id="samba-pdc">

<chapterinfo>
	&author.jht;
	&author.jerry;
	&author.dbannon;
	<author>&person.gd; <contrib>?????????? LDAP</contrib></author>
</chapterinfo>

<title>?????????? ???????</title>

<para>???? ????????? ?????, ??????? ???????? ? ????? MS Windows ? ???????????? ??????????????????. ??? ?????????, ?????? ??? ??? ???? ????????? ????? ???????????? ??????. ??? ??, ???? ??????? ?????????? ??????, ???????????? ???????? ?????????? ??????? ??? ???????????? ??????????.</para>

<para><indexterm><primary>????????</primary><secondary>??????????</secondary></indexterm> ???????? ??? ?? ???????? ????????? ???? ?????? ??? ??????????????? ????????? ? ?????????? ????????? ?????. ???? MS Windows, ? ?????????, ?? ??????? ???????? ?????????. ???????????? ????? MS Windows ????? ???????? ?? ?????????? ????, ??????? ????? ???? ??????? ???????? ?????????? ????. ?????? ??? ??????????? ????? ???? MS Windows ?????????? ? ??????????? ??????, ??????? ????????? ??????? - ????????? - ????????? ?? ????? ???????? ??????? ? ?????? ????.</para>

<para><link linkend="domain-example">?????? ?????? ??? ???????????</link></para>

<figure id="domain-example">
	<title>?????? ??????.</title>
	<imagefile scale="40">?????</imagefile>
</figure>

<para>? ?????? ???????? Samba ?? ????? ???????? ????????? ????? ??????? ? ??????. ???? ?? ?? ??????? ?????? ? ????????? ?????, ?? ??? ????????? ????? ????????? ?????????? ?? ??????? ????? HOWTO. ??? ???????? ????? ??????? ??????? ? ?????? MS Windows:</para>

<itemizedlist>
	<listitem><para>???????? ????????? TCP/IP.</para></listitem>
	<listitem><para>?????????? ???? NetBIOS.</para></listitem>
	<listitem><para>????????? ??????????????.</para></listitem>
	<listitem><para>????????? ????????????? ? ?????.</para></listitem>
	<listitem><para>??????? ???????? ??????? ? ?????? ? ????????? ? UNIX/Linux.</para></listitem>
	<listitem><para>????????? ????, ??? ??????? MS Windows ??????????????? ? ??????? ?????????.</para></listitem>
</itemizedlist>

<para>?? ????????????; ?? ??????????? ???? MS Windows ??????? ?????? ????????, ??? ??? ????? ?? ???????????. ?????? ??? ?????? ???? - ????????????? ???? MS Windows ? ????????????? ????????? ? ???????????. ?? ??????? ?? ?????????? ??? ?????? ???????: <emphasis>????????? ?????? - ??? ????????????!</emphasis> ??????, ????????? ?  ?????? ????? ? ?????? ?????, ???????? ????? ????????. ??????? ??, ?????? ?? ???????????? ?????? ??????, ??????? ?????? ?? ????? ?????? ? ???????????? ? ???????? ??????????? ?????????? ??????, ??????? ????? ???? ?? ????????.</para>

<para>??? ?????????? ????? ??? ?????????? ??????? ?????? ??? ??????? ?????. ???? ?? ??????????? ????????? ??????, ??????????, ??????? ??? ?? ???????? ????, ???????? ?? ?????????????, ???, ????? ?? ?????????? ????????. ??????????? ????? ????????? ?? ???????? ????.</para>

<sect1>
<title>??????????? ? ??????? ???????</title>

<para>
<indexterm><primary>???????????? ??????</primary></indexterm>
<emphasis>? ??? ??????? ??????????? ???????????? ?????? ?? Microsoft?</emphasis>
</para>

<para><indexterm>???? ????<primary/><see>??</see></indexterm><indexterm><primary>???????</primary></indexterm><indexterm><primary>??????? ??????</primary></indexterm><indexterm><primary>?????</primary><secondary>????????????</secondary><tertiary>?????????</tertiary></indexterm></para>

<para><indexterm><primary>SID</primary></indexterm><indexterm><primary>RID</primary></indexterm><indexterm><primary>????????????? ?????????????</primary><see>RID</see></indexterm><indexterm><primary>?????????????? ????????????</primary><see>SID</see></indexterm><indexterm><primary>???????? ???????</primary></indexterm> ??????? ??????? ???????? ???????????? ???????? ??? ??? ?????, ??????? ???????????? PDC ??? Samba. ????? ????????????? ?????????? ??????? ????????????? ???????????? (SID). ?????????????? ???????????? ????? ? ????????????? ?????? ??????? ?? ???????? SID ???? ????????????? ????????????? (RID), ??????? ???????? ??? ???? ??????? ??????. SID? ????????????? ? ????? (??????? SID ???? RID) ????? ??????????????, ????? ??????? ?????? ??????? (ACL?), ????????? ? ???????? ?????????, ??? ??????????????? ?????????? ????????. ??????? UNIX ?????????? ?????? ????????? ?????????????? ????????????.</para>

<para><indexterm><primary>SID</primary></indexterm> SID ???????????? ???????? ????????????. ????????, ?????? ????????? ? Windows ????? ????????? ?????? ? ????????? ???????????? ??????????, ???????? ?????????? SID. ?????? ????? (NT4, ADS, Samba) ???????? ??????? ??????, ??????? ?????????? ? ????????? ???????????? ??????, ????????????? SID?? ??????.</para>

<para><indexterm><primary>SID</primary></indexterm><indexterm><primary>RID</primary></indexterm> ??????-???????? ?????? ????? ????? SID, ???????? ?? SID ??????. ??????-???????? ?????? ????? ???? ???????? ?? ???????????? ???? ????????????? ?????? ??? ?????????. ?? ????? ????? ???? ???????? ?? ????????????? ????????????? ? ????? ?????? ??? ??-?????????. SID? ???????? ???????????. ???????? SID ?????? ??? ???????????? ???????? ???????? ???: <screen>
S-1-5-21-726309263-4128913605-1168186429
</screen> ?????? ??????? ?????? (????????????, ??????, ??????, ??????? ?????? ? ?.?.) ???????? RID. ??? ???????? ????????????? ??? ???????? ??????? ??????. Samba ??????? RID ??????????????. ???????????? ??????? UNIX ?????????  ?????????????? ????? ? ????????????? (GID ? UID), ?? Windows ???????????? RID ?? ??????? ???????????? ????. ???????????? ? ?????? Windows ?? ????? ????? ?????????? RID. ??? ?? ??? ???????????? UNIX <literal>root</literal> ????? UID=0, ????????????? Windows ????? ?????? ????????? RID=500. RID ??????????? ? SID ?????? Windows, ??? ??? ??????? ?????? ?????????????? ?????? ? SID, ??????????? ????, ????? ????? ???????????????? SID <screen>
S-1-5-21-726309263-4128913605-1168186429-500
</screen> ? ?????????? ? ?????? ??????? ?????? ? ???? ????? Windows ????? ????????? ?????????? ????????????? ????????????.</para>

<note><para><indexterm><primary>?????</primary><secondary>????????</secondary></indexterm><indexterm><primary>??????? ?????? ??????</primary></indexterm><indexterm><primary>?????</primary><secondary>??????? ?????? ???????</secondary></indexterm> ??????? ??????? ????????? ???????????? ?????? MS Windows ?????? ???? ??????????? ??????, ????? ???????? ?????? ? ??????????????? ???? ??????? ????????. ??????? ? ?????? ??????????? ?????, ??? ?????? ????????? ????? ??????? ?????? ? ??? ??????. ?????????? ???????? ??????? ?????? ??????? ??? ??????? ??????? (?????????? ??????? ?????? ??????). ?????????? ? <link linkend="domain-member">??????? ? ??????</link> ??? ?????????? ??????????.</para></note>

<para>????????? ??????? ??????? ????????? ? ?????? Samba-3:</para>

<itemizedlist>
	<listitem><para><indexterm><primary>???????</primary><secondary>????</secondary></indexterm> Samba-3 ???????????? ????????????? ?????????? ???, ? ??????? ????? ??????? ??????? ?????? ?????????????, ????? ? ???????????. ????????? ????????? ??? ????? ???????????? ??????, ???? ??? ??????????? ????????? ??????, ???? ??? ?????????.</para>

	<para><indexterm><primary>LDAP</primary></indexterm><indexterm><primary>?????????</primary></indexterm><indexterm><primary>???????????</primary></indexterm><indexterm><primary>?????????????</primary></indexterm><indexterm><primary>reliability</primary></indexterm> ????????? ???? LDAP ????? ???????????? ? ???, ??? ???? ????? ???? ???????????? ? ??????????. ??? ????? ??????? ????????, ????????? ?????????? ???????????????? ????, ? ?????????????? ??????? ??????? ??????????.</para></listitem>

	<listitem><para><indexterm><primary>???????????</primary><secondary>????????????? ?????????</secondary><tertiary>??????? ??????</tertiary></indexterm><indexterm><primary>??????? ?????? ???????</primary><secondary>???????????</secondary></indexterm><indexterm><primary>??????????????</primary></indexterm> ????????????? ????????? ??????? Windows NT4. Samba-3 ???????????? ????????????? ??????? ?????? ??????? ??????? ? ???????? (????????). ??? ????? ???????????? ??????? ?????? ??????????? ????????????? ????????? ? ???? Windows NT4, ??? ? ?????????? ???????? ?? ?????????????? ? ???????????????? ?????.</para></listitem>
	
	<listitem><para><indexterm><primary>NetBIOS</primary></indexterm><indexterm><primary>raw SMB</primary></indexterm><indexterm><primary>active directory</primary></indexterm><indexterm><primary>?????</primary><secondary>??????-???????? </secondary></indexterm><indexterm><primary>?????</primary><secondary>??????????</secondary></indexterm><indexterm><primary>????</primary><secondary>????????</secondary></indexterm> ?????? ??? NetBIOS ?????? TCP/IP ?????? ????????????? SMB ?????? TCP/IP. ????????, ??? ?????????? ?????? ??? ?????? ? ???????? ???????-????????? ?????? Microsoft Active Directory. ??? ?????? ? ???????? ??????????? ?????? Samba ????????????? NetBIOS ?????????? ??? ??????????? ????????? ????.</para></listitem>

	<listitem><para><indexterm><primary>WINS</primary></indexterm><indexterm><primary>???? TCP</primary></indexterm><indexterm><primary>?????? ??????</primary></indexterm> Samba-3 ????????????? ?????? ???? NetBIOS (WINS), ?????? ?????? NetBIOS ?????? TCP/IP (TCP ???? 139), ?????? ?????? SMB ?????? TCP/IP (TCP ???? 445), ? ??????????? ? Microsoft ?????? ONC DCE RPC (TCP ???? 135).</para></listitem>

	<listitem><para><indexterm><primary>Nexus.exe</primary></indexterm>  ?????????? ?????????????? ? ???????? ????? ????????? ????????????? ??? ???????. ??? ????? ???? ??????? ?? ????? ??????? MS Windows ? ?????????????? ?????? ???????????? <filename>Nexus.exe</filename> ??? Windows 9x/Me ??? ?????? SRVTOOLS.EXE ??? ???????? MS Windows NT4/200x/XP. ??? ?????? ???????? ? ???-????? Microsoft.</para></listitem>

	<listitem><para>????????? ???????????? Unicode. ??? ???????? ????????? ??????????? ?????????. ??? ????? ????????? ??????????? ????????????? ??????????, ??????? ???? ? Samba-2.2.x, ?? ?? ????? ?????????????? ??-?? ?????????? ?????? ????????? Unicode.</para></listitem>
</itemizedlist>

<para>????????? ??????? ?? ??????????????? Samba-3:</para>

<itemizedlist>
	<listitem><para><indexterm><primary>SAM</primary></indexterm><indexterm><primary>??????????</primary></indexterm> ?????????? ??? ?????? SAM ? ????????????? ?????? Windows NT4 (?.?. Samba PDC ? Windows NT BDC, ??? ????????). ??? ??????, ??? Samba ?? ????? ???????? ? ???????? BDC, ???? PDC ???????? ??? ??????????? Microsoft Windows NT. Samba-3 ?? ????? ??????????? ? ?????????? ??????? ??????? PDC ? BDC, ?????????? ??? Windows.</para></listitem>
	
	<listitem><para><indexterm><primary>kerberos</primary></indexterm><indexterm><primary>active directory</primary></indexterm> ?????? ? ???????? ??????????? ?????? Windows 2000 Active Directory (?.?. Kerberos ? Active Directory). ?? ????? ???? Samba-3 ????? ????????? ??????????? ?????????? ??????? Active Directory, ??????? ? ????????? ????? ????????? ?????????????????. ?????????? ??????? Active directory - ???? ?? ??????, ??????? ??????????????? ? Samba-4, ?????? Samba ?????????? ?????????. ? ????????? ????? ??? ?????? ????????? ????????? ?????????? ??????? Active Directory ? ?????? ????? Samba-3.</para></listitem>

	<listitem><para><indexterm><primary>MMC</primary></indexterm><indexterm><primary>SVRTOOLS.EXE</primary></indexterm><indexterm><primary>Microsoft management console</primary><see>MMC</see></indexterm> ??????? ?????????? Microsoft ?????? Windows 200x/XP ?? ????? ?????????????? ??? ?????????? ???????? Samba-3. ? ????????? ????? ?? ?????? ???????????? ?????? MS Windows NT4 Domain Server Manager ? MS Windows NT4 Domain User Manager. ??? ???????? ?????? ?????? SRVTOOLS.EXE, ??????????? ?????.</para></listitem>
</itemizedlist>

<para><indexterm><primary>Windows XP Home edition</primary></indexterm><indexterm><primary>LanMan</primary></indexterm> ??????? Windows 9x/Me/XP Home ?? ???????? ?????????? ??????????? ?????? ?? ????????, ???????????? ? ???? ?????. ????????, ?????????????? ??????? (????????) ????? ???? Windows 9x/Me ?????????? ?????????? ?? ?????? ? ????? ???? NT4/Windows 200x, ? ?????????? ????????????? ????????? ?????. ??? ??????? ?????????? ?????? ??????????? ???????? ????? LanMan, ??????? ?????????????? ? Samba ???????? ? ?????? 1.9.15.</para>

<para><indexterm><primary>??????</primary><secondary>???????????</secondary></indexterm> Samba-3 ????????? ??????????? ????? ????? ???????? Windows NT ? UNIX (??? ?? ????? ???? ??????? ??????, ????? ????????? ? ???????? ?????). ??? ??????????? ????? ????? ? <link linkend="groupmapping">??????????? ?????: MS Windows ? UNIX</link>.</para>

<para><indexterm><primary>??????? ?????? ??????</primary></indexterm><indexterm><primary>??????? ?????? ???????</primary><secondary>??????</secondary></indexterm><indexterm><primary>??????? ?????? ??????</primary></indexterm> Samba-3, ??? ??, ??? ? PDC ??? MS Windows NT4 ??? Windows 200x Active Directory, ?????? ??????? ?????????? ?? ??????? ??????? ????????????? ? ??????????? ? ?????????? ???? ??????. ???????? <link linkend="machine-trust-accounts">??????? ?????? ??????????? MS Windows Workstation/Server </link>. C Samba-3 ????? ???????????? ????????? ???. ????????? ?????????? ??? ?????? ??? ??????? ??????? ????? ????? ? <link linkend="passdb">???? ?????? ??? ??????? ??????? </link>.</para>

</sect1>

<sect1>
<title>?????? ???? ? ???????????? ??????</title>

<para><indexterm><primary>?????? ????</primary><see>SSO</see></indexterm><indexterm><primary>SSO</primary></indexterm><indexterm><primary>active directory</primary></indexterm><indexterm><primary>??????????????</primary></indexterm><indexterm><primary>????????</primary></indexterm><indexterm><primary>???????????? ??????</primary></indexterm><indexterm><primary>??????? ???????</primary></indexterm> ????? ??????? ??????????????? ?????? ??????? ??????????? ????? Windows NT4 ? Active Directory, ???????? ????? ??????????? ??????? - single sign-on (SSO). ????? ???????? ???????? ??????? SSO. ??????? ?????????? ??????? ????? ???????? ?????? ???????? ? ???????? ???????? ???? ??????, ? ??????????? ? ?????? ????? Windows. ???????? ????? ????? ??????? ???????? ?????????????? ??????, ?????? ?? ??????? ????????? ? ??????? ?????????????? ? ???????? ????????????, ???????? ?? ??, ??? ????? ???????????? ?????????? ??????? ????? ?????? ID ????? ? ???????. ??? ???????? ??????????, ????? ????? ??? ?????? ??????? ?????? ???????? ? ??????????? ???????????, ?, ? ?????????, ????? ??????????? ??????????? ?? ???????????? ? ??????? ???????.</para>

<para><indexterm><primary>management overheads</primary></indexterm> ?????????? ?????? ???????????????? ?????????????, ??? ????????? ??????? ????? ???????? ??????? ?? ???????? ?????????????, ??????????? ???????? ?? ??????? ??????? ??????? ??????? ?????? ?????????????? ?????? (???? ???/??????). ????????? ????????? ?????????? ???? ???? ???????, ????? ??????? ??????????? ? ???????????? ??????? SSO. ???????? ? ???, ??? ???? ?????????? ?? ??????? ?????????, ??????????? ????? ????????? ??????? ????????? ? ???? ????????? ? ??????? ? ???????????. ?????? ??????, ?????? SSO-??????? ???????? ???????????????? ????????.</para>

<para><indexterm><primary>?????????? ??????????????</primary></indexterm><indexterm><primary>??????? ??????????????</primary></indexterm><indexterm><primary>SSO</primary></indexterm> ?????????? SSO ?????????? ????????????? ???? ?????????? ? ???????????????? ??????? ???????. ? ??????????? ?? ????????? ????????? ? ???????? ??????, ?????? ??????? ??????????? SSO-???????, ????? ???? ??????????? ????????? ???????????,  ????? ?????????????? ? ????? ??????? ?????????? ?????????????? ?????????????. ?????? SSO-???????, ?????????? ?????????? ???????, ??????? ?? ????? ??????????????, ??????? ???????????? ?????????????? ??? ????????????. ??????????? ???????????, ????????????? ?? ?????? ???????, ????? ?????? ????????? ??????? ????????????? ??????????????. ??? ??????, ??? ?????????? SSO ??????????? ????? ????????? ?????????????? ??????. ? ?????? ????????? SSO ?????? ????????? ????????? ? ???????????????? ???????.</para>

<para><indexterm><primary>???????????????? ?????????? ???????? ???????</primary></indexterm><indexterm><primary>?????????? ???????? ???????</primary><secondary>????????????????</secondary></indexterm><indexterm><primary>????????????????</primary><secondary>??????????????</secondary></indexterm><indexterm><primary>?????????? ???????</primary></indexterm><indexterm><primary>???????? ???????</primary></indexterm> ????????? ????? ?????? ??????? ??????????????? ????? ???????? ???????? ? ????????????? ???????????????? ??????? ?????????? ???????? ????????. ????? ??????????????, ??? ????? ???????????????? ??????? ????? ???????????? ?????? ?????????????? ??????????????, ??????? ????? ?????????????? ????? ??????????????? ?????????. ??????????? ???????????? ?????? Microsoft Windows NT4 ? ?????? Micrsoft active directory ????? ?????????? ??? ????????? ????????? ??? ????? ??????. ????????????? ????? ?????? - ?????????? ???????? ?????? ?????????????? ?? ?????? ?? ????????? ?????????????? ??????, ??????? ????? ????? ???????????? ????? Mi?rosoft NT4 (??? ?????? ADS) ??? ?????????????? ????????????? ? ?????????? ????????. ???????? ????? ? ?????? ???????????????? ?????? ?????????????? ????? ???????????, ????? ?????????? ??????????. ????????? ? ??????????? ????????? ???????? ???????? ????????????? ??????? ????? ???????????? ??????? ?????????????? ? ???????? ???????, ????????? ?? ?????????? ????? ???????? ?????????? ? ????? ?????? ???????? ??????????, ???? ?????? ??? ?????????? ??????????? ??????????? ????? ?????????? ??????????? ?? ?????????? ????????? ???? ???????, ??????? ???? ??????????? ? ????????? ?????????????? ???????????? ? ???????? ???????.</para>

<para><indexterm><primary>????-???????</primary></indexterm><indexterm><primary>??????? ??????</primary></indexterm><indexterm><primary>????????? ?????????????? ???????</primary></indexterm><indexterm><primary>????????? ??????????</primary></indexterm><indexterm><primary>???????? ??????</primary></indexterm><indexterm><primary>?????</primary></indexterm><indexterm><primary>??????????</primary></indexterm><indexterm><primary>????????</primary></indexterm> ????????? ??????? ??? ????????? ?????????????  ????????? ??????? ?????? ???????? ??????????? ?????????? ?????? ?????????????? ??????????. ???? ????? ???????????? ?????? ??????????? ? ????????????? ????-????????. ????-??????? ?????? ??????? ?????? ???????????? ??? ???? ????????? ?????????????? ?????? ? ???????, ??????????? ??? ?????? ???????. ???????????? ????? ???????? ?????????? ?????? ? ?????? ??????????? ?????????? ?????? ??? ?????????? ????????????????? ??????? ? ???????????? ? ????????? ??????, ??????? ?????????? ????? ???????????????, ???????? ????????? ?????? ???????????? ?? ???? ???????? ? ?????? ??????? ??????? ??????.</para>

<para><indexterm><primary>Organization for the Advancement of Structured Information Standards</primary><see>OASIS</see></indexterm><indexterm><primary>Security Assertion Markup Language</primary><see>SAML</see></indexterm><indexterm><primary>Federated Identity Management</primary><see>FIM</see></indexterm><indexterm><primary>?????????? ??????</primary></indexterm> Organization for the Advancement of Structured Information Standards (OASIS, ??????????? ??????????? ?????????? ????????????????? ??????????) ??????????? Security Assertion Markup Language (SAML, ???? ???????? ??????? ????????????), ????????????????? ?????? ?????? ??????????? ?? ??????????????. "????" ?????????? ? ???????? ????????????? SAML ?????????? Federated Identity Management (FIM, ???????????? ?????????? ??????????????). FIM ?????????? ?? ?????? ??????? ? ??????? ????????? ?????? ?????????????? ?????? ??? ?????????????? ??????????????? ????????????? ? ?????????????? ????? ?? ?????????? ?????? ? ??????????????? ????????.</para>

<para><indexterm><primary>Simple Object Access Protocol</primary><see>SOAP</see></indexterm><indexterm><primary>federated organizations</primary></indexterm><indexterm><primary>Liberty Alliance</primary></indexterm><indexterm><primary>federated-identity</primary></indexterm><indexterm><primary/></indexterm><indexterm><primary/></indexterm> ????????? SAML ????? ???? ???????? ? ????????? Simple Object Access Protocol (SOAP) ??? ????? ?????????-?????????, ??????????? ??? ???-???????. ??? ??? ????? ???????????? ????? ???-????????? ???????????? ???????????, ??????????? "?????" ???????. Liberty Alliance, ??????, ?????????????? ?????????? ??? ??????????? ??????????, ???????? ? ???????????? ??????????????, ???????????? SAML 1.1 ? ???????? ????? ?????? ?????? ??? ???????? ??????????. Microsoft ? IBM ?????????? ?????????????? ????????????, ?????????? WS-Security. ????????? ?????, ??? ????????????? ?????????? ? ??????? ????? ????????????, ????? ????? ??????????? ???????? SAML 2.0. ??????? ????????? ?????????? ???????? ?????? ??? ???????????? SAML ???????, ?? ?????????? ?????????? ? ???????? ??????? ???????? ??? ?????????? ? ?????????? ? ?????????? ???????????????? ???????????. ?????? ??????, ?????? ??????? FIM ???????? ??????? ? ???????? ??????????.</para>

<para><indexterm><primary>??????????????</primary></indexterm><indexterm><primary>ADS</primary></indexterm><indexterm><primary>LDAP</primary></indexterm><indexterm><primary>GSSAPI</primary></indexterm><indexterm><primary>general security service application programming interface</primary><see>GSSAPI</see></indexterm> ????????? ????? ???????, ??????? ????? ??? ???? ?????? ???? ?????, ??????? ?????????? ????? ?????????????? ? ???????? ?? ???????????????? ??????? ???????? ????? ? ?????????? ???????????. ?? ????????, ?????? ??? ??????????????, ????? ????????? ????????? ?????? ?????????? ?????????????? ? ???????, ?????, ??? Microsoft Active Directory Service (ADS), ??? ????? ???????, ? ????????? ??????????? ??? ?????????????, ??????? ???????????? ??????????? ???????? ??? ??????? ? ?????????? (?????, ??? LDAP), ? ????? ????? ???? ??????? ? ?????? ??????? ?????????? ?????????????? (?????, ??? kerberos), ??????? ????????? ?????????, ???????????? ?????????? ?????? ???????? GSSAPI.</para>

<para><indexterm><primary>OpenLDAP</primary></indexterm><indexterm><primary>ADS</primary></indexterm><indexterm><primary>?????? ??????????????</primary></indexterm> ???????? ????? ???????? ????????????? ??????? ?????????????? ??? ? ????? ???????????? ?????????? ????????, ??????????? ???????????? ??????? LDAP - ????????,  OpenLDAP, ????????????? ??????????? ?????????? ?????????  LDAP. ??? ??????, ??? ?????????????? ? Samba ????????? ????????????? LDAP ? Microsoft ADS ?????? Samba ?????? ?????????????? ? ???????????? ? ??????? ??????????????? ??????? ???????????.</para>

<para><indexterm><primary>ADS</primary></indexterm><indexterm><primary>LDAP</primary></indexterm><indexterm><primary>??????????? ??????????????</primary></indexterm><indexterm><primary>ntlm_auth</primary></indexterm><indexterm><primary>SQUID</primary></indexterm><indexterm><primary>FIM</primary></indexterm> Microsoft ADS ????????????? ????? ????????????? ??????, ??????? ? ????????????? ????? ???? ????????? ??? ?????????????? ???????????????? ?????????????? ??????????????. Samba ???? LDAP ????????????? ?????? ??????????? ??? ?????????? ???????????????? ?????????????? ??????????????, ?? ?????? Samba Team ???????? ???????? ??????????? ?????????????? ?????????? ????? ?????????????? ? ?????????????? LDAP ??? ????-???? ???, ???????????, ?????, ??? SQUID (??????-?????? ? ????????? ???????????), ????? ???????????, ?????, ??? ??????? <command>ntlm_auth</command>, ? ??? ????? ??? ???????? ??????????????? ?????? ? ??????????? ?? ????? FIM.</para>

<para><indexterm><primary>LDAP</primary></indexterm><indexterm><primary>OpenLDAP</primary></indexterm><indexterm><primary>????????????????? ??????????</primary></indexterm> ????????? ?????????? ???????, ???? ??? ?????? ????????????????, ????? ???????? ?????? ??????? ???????????, ?????? ????? ??????????? ???????????? LDAP. ??????? ??????????????? OpenLDAP ? ???????????? Samba, ??????? ?????????? ???, ???????? ??????????? ??????????????? ????, ??? ??? ????????? ????????. Samba-3 ?? ????????? ? ????????????? LDAP, ?? ????????????? ? ?????????, ? ??????? ???????? ????????????????? ?????????? ????????????? ? ????? ????? ???? ????????????, ?????? ??? ?????????? ???????.</para>

<para><indexterm><primary>BDC</primary></indexterm><indexterm><primary>LDAP</primary></indexterm><indexterm><primary>e-Directory</primary></indexterm> ? ????????? ????? ????????????? BDC ?? Samba ?????? ?? ????? ????????????? ????????????? LDAP. ???????? ?????? ???????????? ??????????? LDAP, ???????????? ????????????? ? Samba, ???????? OpenLDAP. ???????? ????????????? ?????? ???????????? ?? ?????????? ??????? LDAP. ??, ? ??????? ????????, ??? ??? ????????, ???????? ????????: IBM, CA, Novell (e-Directory), ? ??????.</para>

</sect1>

<sect1>
<title>?????? ?????????? ???????</title>

<para><indexterm><primary>?????????? ???????</primary></indexterm> ? ???????? ??????? ?????????? ???????? ????, ??? ?? ???? ?????????? ???????, ??????? ????? ??????????? ???????. ????? ???, ??? ?? ??????? ??????????? ? ??????? ???????? ?????? ?????????? ???????: ?????????? ??? ???????? ???? ???????????? ??????.</para>

<sect2>
<title>???? ??????????? ??????</title>

<itemizedlist>
	<listitem><para>??????? ?????????? ?????? ???? NT4 - PDC</para></listitem>
	<listitem><para>????????? ?????????? ?????? ???? NT4 - BDC</para></listitem>
	<listitem><para>?????????? ?????? ADS</para></listitem>
</itemizedlist>

<para><indexterm><primary>PDC</primary></indexterm><indexterm><primary>??????</primary></indexterm><indexterm><primary>???????</primary><secondary>??????????????????</secondary></indexterm><indexterm><primary>?????</primary><secondary>????????</secondary><secondary>??????</secondary></indexterm> <emphasis>????????? ?????????? ??????</emphasis> ??? PDC ?????? ?????? ???? ? MS Windows NT4. ? ??????????? ?????????? ??????? Windows 200x ??? ???? ??????????? ???????????? ??????. ???????? ??????????, ??? ??-?? ???? ? ???? MS Windows ??????????? ?????? ?????? ???? ???????? ?????? ? ???????????????? ??????? ? ????. ??? ?? ??????? ??? ??? ?? ???????, ??????? ?????????????????? ???? ?????? ??????? ????????????? ???????????? ???? ??????????????. ???????? ?????????? ?????? ? ????????? ??????? (????????? ??????), ?????? ? ??????????? ??????.</para>

<para><indexterm><primary>SAM</primary></indexterm><indexterm><primary>BDC</primary></indexterm><indexterm><primary>authenticatior</primary></indexterm><indexterm><primary>synchronization</primary></indexterm><indexterm><primary>Security Account Manager</primary><see>SAM</see></indexterm> ? ?????? ?????? ? ????? MS Windows NT4 ?????? PDC ?????????????? ????? ???? ?????? ?????????? ???????. ??? ?????????? ????? ??????? Windows, ?????????? Security Account Manager (SAM, ????????? ??????? ??????? ????????????). ??? ?????? ???????? ???? ? ?????????????? ????????????? ?????? ? ????? NT4 ? ? ????????????? ???? ?????? ?????????????? ?????? ? BDC.</para>

<para><indexterm><primary>????????</primary><secondary>????????????</secondary><tertiary>??????</tertiary></indexterm><indexterm><primary>LDAP</primary></indexterm><indexterm>?????????<primary/><secondary>????</secondary></indexterm><indexterm><primary>??????? ?????? ??????????</primary></indexterm> ? ??????? MS Windows 200x Active Directory ???? ?????????? ?????? ?????????????? ????????????? ???????? ???????????? ??????, ??????? ?????? ???? ??????? ??????????????? ??????????. ??????? ?????????? ?????? ????? ??????????? ??????????? ?????????? ? ?????? ???????????? ???????????, ?? ??????????? ??????????? ????? ????????? ?????? ????????????. ? Samba-3 ??? ???????????????? ????? ???? ????????? ? ?????????????? ????????? ???? LDAP ??? ???????? ??????? ??????? ????????????? ? ???????????.</para>

<para><indexterm><primary>backend database</primary></indexterm><indexterm><primary>registry</primary></indexterm> New to Samba-3 is the ability to use a backend database that holds the same type of data as the NT4-style SAM database (one of the registry files)<footnote><para>?????? ????? <link linkend="passdb">???? ?????? ??????? ??????????</link>.</para>.</footnote></para>

<para><indexterm><primary>BDC</primary></indexterm><indexterm><primary>PDC</primary></indexterm><indexterm><primary>WINS</primary></indexterm><indexterm><primary>??????????????</primary></indexterm><indexterm><primary>netlogon</primary></indexterm><indexterm><primary>????? ????</primary></indexterm> <emphasis>Backup Domain Controller</emphasis> ??? BDC ?????? ???????? ???? ? ???????????? ??????? ???????? ?? ??????????????.? BDC ???? ???????????? ? ??????? ?? ??????? ???????? ????? ????? PDC. ? ??????? ????????, ??????? BDC ? PDC, ?????? ?????, BDC ????? ??????????? ??????? ????? ? ????. PDC ??????? ?? ??????? ????? ? ????, ????? BDC ??????? ????? (??????? ????????). ????? ???????????? ?????? ? ???? ?? ??????? ?????? Windows, ??????? ??????? ??????? ????, ????? ?????????? ????????? ?????? ???????? ?????. ? ?????? ????????????? ??????? WINS ??? ???????? ???????? ? ??????? WINS. ???? ?????? ???????? ????? ?? ????? ???? ?????? ???????? WINS, ??? ?????? WINS ???????????, ??????? ??????? ???????? ????? ???? NetBIOS ????? ?????????????????? ??????? ????? ???????? ????? ?????? ?????????????????? ????????? UDP. ??? ??????, ??? ????? ??????? ????? ? ????, ??????? ????? ?????????????? ????????, ??????? ?? ?????????? ??????????, ????? ???????, ?????????? ????? ??????????, ????? ?? PDC ??? BDC ??????????? ?????????? ?????? ?? ?????????????? ?????.</para>

<para><indexterm><primary>??????????</primary></indexterm><indexterm><primary>demote</primary></indexterm> Windows NT4 BDC ????? ???? ????????? ? PDC. ???? PDC ????????? ? ?????? ? ?? ?????, ????? BDC ???????????? ? PDC, ?????????? PDC ????????????? ??????????? ? BDC. ? Samba-3 ??? ?? ?????????????? ????????; PDC ? BDC ?????? ???? ????????? ???????, ????? ?????????? ??????? ?????? ??????????????? ????????.</para>

<para><indexterm><primary>domain</primary><secondary>controller</secondary><tertiary>convert</tertiary></indexterm> ? MS Windows NT4 ???????, ???????? ?? ????? ?????????, ??????????, ???????? ?????? ???? ?????? ??????. ???????? ?????????? BDC ? PDC, ? ????????. ???????????? ?????? ?????????????? ??????????? ?????? Windows NT4 ? ??????-???????? ?????? ??? ????????? ??????, ??????????????? Microsoft - ?????????????. ?? ????? ????????? ??????????????? ???????? ????????:</para>

<itemizedlist>
	<listitem><para><emphasis>????????? ?????????? ??????</emphasis>&smbmdash; ???????? SAM ??????.</para></listitem>
	<listitem><para><emphasis>????????? ?????????? ??????</emphasis>&smbmdash; ???????? ????? SAM ??????.</para></listitem>
	<listitem><para><emphasis>??????-???????? ??????</emphasis>&smbmdash; ?? ???????? ????? SAM ??????; ?????? ????? ?? ???????? ?????????????? ? ??????????? ?????? ??? ????? ?????????? ????????.</para></listitem>
	<listitem><para><emphasis>????????? ??????</emphasis>&smbmdash; ?? ?????? ??????? ???? ? ????????????? SAM, ????? ???? ??????????? ???? ?????????????? ? ?? ?????? ??????? ???? ? ???????????? ??????.</para></listitem>
</itemizedlist>

<note><para><indexterm><primary>???????????</primary></indexterm> Algin Technology LLC ????????????? ???????????? ??????????, ??????? ???????? ?????????? ????????? ?????? Windows NT4 ? PDC ??? BDC; ????? ???????? ? ???????? ???????. ?????????? ? ???-????? <ulink url="http://utools.com/UPromote.asp">Algin</ulink> ?? ?????????? ???????????.</para></note>

<para><indexterm><primary>????</primary><secondary>??????????</secondary><tertiary>???????</tertiary></indexterm><indexterm><primary>?????? ????????</primary></indexterm> ??????? Samba-3 ????? ???? ????? ????????????? ? ???? ?? ????? ?????????? ??????? ???????? ??????????? ? ????? &smb.conf;. Samba-3 ????? ???? ?????? ?????????? ?????? Windows 200x Active Directory.</para>

<para><indexterm><primary>??????????????</primary><secondary>???????-????????? ??????</secondary></indexterm> ??? ??????? ??????? - ????????? ?????????? ??????? MS Windows 2000 ???????? ????? ????, ??? ?????? ??? ??????????. ??????????, ?????????? ? ???????????? Microsoft ?? ???????????, ???????????? ??? ?????????????? ????? ????????-?????????? ?????? ? ????????-??????????? ??????, ? ????? ??? ????????? ? ???????? ????????? ????? Active Directory.</para>

<para><indexterm><primary>???????????</primary><secondary>SAM</secondary></indexterm><indexterm><primary>SAM</primary><secondary>???????????</secondary></indexterm> ????? ? Samba-3 ???????? ??????????? ???????? ??????????????? ??? ?????????? ?????? ? ????? MS Windows NT4, ???????? ?????????? ?????????? SAM. ?????? ?????? ? ????, ??? Samba-3 ????? ???????????? ????????? ?????????? ??????? MS Windows 200x.</para>

<para><indexterm><primary>ADS</primary></indexterm> ? ????????? ????? ????? ?????????? ????, ??? Samba-3 ????? ???????? <emphasis>?????????? ??????</emphasis> ? ?????? ?????? ADS, ??????????? ? ???????????????? ?? ???????. ??? ???????????????? ?? ??????? ???????????? ?? ??? ???, ???? Samba Team ?? ????????? ??? ??? ?????????? ?????????. ? ???? ??????? ????? ???????????? ????????????, ????? ????? ???????? ??? ?????????? ?? ????????? ? ??????????. Samba ????? ???????? ??? ?????????? ?????? ? ????? NT4 ? ????????? Windows 2000/XP. ?????? ???? ????????? ????????????:</para>

<itemizedlist>
	<listitem><para>??? ?????? ??????? ??????????</para></listitem>
	<listitem><para>?????????? ???????? ????????? ????????.</para></listitem>
	<listitem><para>??????????? ????????? ??????????? ???????? ????? Active Directory.</para></listitem>
	<listitem><para>?????????? ???????????? </para></listitem>
	<listitem><para>????????? ? ??????? ????????? ? ??? ?????, ? ?? ????? ??? ? Active Directory ??? ?? ????????? ????????? ??????????? ??????.</para></listitem>
	<listitem><para>??? Active Directory ?? ?? ?????? ????????? ??????? ????????? ?????????? ??? ????????? ????????????? ??? ?????.</para></listitem>
</itemizedlist>

</sect2>

<sect2>
<title>?????????? ??? ?????????? ???????</title>

<para><indexterm><primary>?????????</primary></indexterm><indexterm><primary>??????? ??????</primary></indexterm><indexterm><primary>????????</primary></indexterm><indexterm><primary>security</primary></indexterm></para>

<para><indexterm><primary>??????? ??????</primary></indexterm><indexterm><secondary>???????</secondary>?<primary>??????? ??????</primary></indexterm><indexterm><primary>??????? ?????? ??????????</primary></indexterm> ?????????? ????????, ??? ??????? ? ??????? ?????? ?? ??????? ??????????? ?????????, ????? ?????, ??? ? ????????????? ?????? ?????????? ?????????? ????? ??? ??????? ??????. ?????? ??? WORKGROUP ??? ????? ?? ????????????. ? ???? ?????? ??? ??????? ??????? ??????????, ? ????? ????????? ??????? ??? ???????? ?????????? ??? ??????, ??? ??? ?????????? ?????????? ? ??????? ????????? ????????? ???????????????? ??????. ?????, ??? ???????: <emphasis>????? ??????? ?????? ?? ?????????? ??????? ?????? ???????????? ??? ???????????</emphasis>.</para>

<para><indexterm><primary>??????? ? ??????</primary></indexterm><indexterm><primary>??????? ?????? ??????????</primary><secondary>??????</secondary></indexterm><indexterm><primary>???????</primary></indexterm> ??????????-????????? ?????? ????? ????????????? ??????? ?????? ?????????? ? ???? ?????? ??????? ??????? ??????. ??? ????????? ??????? ? ?????? ?? ?????? ?????? ?????????? ????????? ??????????? ?????????. ??? ?????????, ??????? ????? ???????? ?????? ????????? ??????? ?????? ??????????????, ??????? ??????? ?????? ?????????? (???? ?? ? ?? ??????????), ? ????? ?????????????? ??. ????? ?????? ?????? ??? ?????? ? ?????, ????????????? ????? ???????? ????????? ????? ?????? ????????????? ??????? ?????? ??????.</para>

<note><para><indexterm><primary>???????? ??????</primary></indexterm> ????? Samba ????????? ??? ?????????? ??????, ?????????? ?????? ???? ???????, ????? ??? ??????? MS Windows NT4/200x/XP Professional ???? ????????? ??? ????????? ??????. ???? ?????? ?? ??????? ?????????? ??????, ?? ??? ????? ???????? ??? ?????? ??????? ?????? (?????????). ??????????, ?????????? ? <link linkend="domain-member">??????? ? ??????</link> ?? ???????????, ?????????? ??????? ? ??????.</para></note>

<para>????????????? ??????????, ????? ????????? Samba-3 ??? PDC ? ????? Windows NT4 ??? ???????? MS Windows NT4/200x/XP:</para>

<itemizedlist>
	<listitem><para>??????? ????????? ???? TCP/IP ? MS Windows. </para></listitem>
	<listitem><para>?????????? ??????????? ???? ???????  (<smbconfoption name="security">user</smbconfoption>).</para></listitem>
	<listitem><para>????????????? ????????? ?????????? ????.<footnote><para>?????? <link linkend="NetworkBrowsing">???????? ????</link> ? <link linkend="integrate-ms-networks">?????????? ????? MS Windows ? Samba</link>.</para></footnote></para></listitem>
	<listitem><para>????? ? ????? ???????? Windows NT4/200x/XP Professional.</para></listitem>
	<listitem><para>????????? ???????????? ???????? ??? ????? ????????? ????????????? ????????? ????????.</para></listitem>
	<listitem><para>????????? ???????/????????? ???????</para></listitem>
	<listitem><para>?????????? ? ?????????? ????????????????? ???????? ????????</para></listitem>
	<listitem><para>????????? ?????????? ????? ? MS Windows NT4/2000 Professional ? Windows XP Professional ?? ??????? ? ??????.</para></listitem>
</itemizedlist>

<para>??? ???????????? ???????? MS Windows 9x/Me ?????????? ????????? ??????????:</para>

<itemizedlist>
	<listitem><para>??????? ????????? ???? TCP/IP ? MS Windows. </para></listitem>
	<listitem><para>?????????? ??????????? ???? ???????  (<smbconfoption name="security">user</smbconfoption>).</para></listitem>
	<listitem><para>????????? ???????? ????? (????????? Windows 9x/Me/XP Home ?????????? ?? ???????? ??????????? ??????, ??? ??????? ?? ????????? ? ???????? ???????????? ????? ? ????? ??? ? ???????).</para></listitem>
	<listitem><para>????????? ???????????? ????????</para></listitem>
	<listitem><para>????????? ????????? ????????? ???????.</para></listitem>
	<listitem><para>????????? ???????? ???????? <quote>Client for MS Windows Networks</quote> ? ????????? ??? ????? ? ?????.</para></listitem>
	<listitem><para>???????????? ???? ???????? Windows 9x/Me ? ???????????? ?????? ???????????? &smbmdash; ???? ??????????, ????? ???? ?????? ? ????? ???????? ???????? ?????????? ? ???????????? ? ?????????????? ?????????????/????? ??????.</para></listitem>
	<listitem><para>?????????? ? ?????????? ????????????????? ???????? ????????</para></listitem>
</itemizedlist>

<note><para><indexterm><primary>???????????? ???????</primary></indexterm><indexterm><primary>???????? ??????? ??????</primary></indexterm> ???????????? ??????? ? ?????????/??????? ???????? ???????? ???????????? ?????? ???????? ?????????????????, ??????? ???????????? ? <link linkend="ProfileMgmt">?????????? ????????? ???????? ?????</link> and <link linkend="PolicyMgmt">???????? ??????? ? ??????? ??????</link> ? ???? ?????. ?????? ??? ?? ??????? ??????????? ????????? Samba PDC, ??????? ????????? ????? Windows NT.</para></note>

<para>?????????? ?????? - SMB/CIFS ??????, ???????:</para>

<itemizedlist>
	<listitem><para><indexterm><primary>NetBIOS</primary><secondary>?????????????</secondary></indexterm><indexterm><primary>WINS</primary></indexterm><indexterm><primary>UDP</primary></indexterm><indexterm><primary>DNS</primary></indexterm><indexterm><primary>active directory</primary></indexterm> ?????????????? ? ????????? ???? ???????????? ?????? (????? ????????????????? ??????? NetBIOS, ??? ??, ??? ? ???????????? ???? ???? ????? ????????????????? ??????? Mailslot'?? ?????? UDP, ???????????? ????????? ?? WINS-?????? ?????? UDP, ???? ????? DNS ? Active Directory).</para></listitem>

	<listitem><para><indexterm><primary>NETLOGON</primary></indexterm><indexterm><primary>?????? ????? LanMan </primary></indexterm> ????????????? ?????? NETLOGON. (??? ?? ????? ???? ???????? ????????, ??????? ???????? ?????? ????????? ??????????. ????? ??? - ?????? ????? LanMan, ?????? Netlogon, ?????? Local Security Account ? ?? ?????????????.)</para></listitem>

	<listitem><para>????????????? ????? ??????, ?????????? NETLOGON.</para></listitem>
</itemizedlist>

<para><indexterm><primary>????????</primary><secondary>??????-</secondary><tertiary>???????</tertiary></indexterm><indexterm><primary>?????????</primary><secondary>??????</secondary><tertiary>???????</tertiary></indexterm><indexterm><primary>DMB</primary></indexterm><indexterm><primary>LMB</primary></indexterm><indexterm><primary>?????? ?????????</primary></indexterm> ???????? ????? ????????? Samba ???, ????? ?? ???????????? ???. ?????? ?????????? ?????? Samba ?????? ????????????? ????? ?????? NETLOGON, ??????? ? Samba ?????????? ???????? <smbconfoption name="domain logons"/>  (?? ????? ????????? ? ????? &smb.conf;). ????????????? ???? ?????? ? ?????? Samba-3 ?????? ???????? ???? ??????-????????? ??????.<footnote><para>?????? <link linkend="NetworkBrowsing">???????? ????</link>.</para></footnote> ??? ?????????? PDC ??????? ??????????? ??? ?????? NetBIOS-???, ??????? ?????????????? ??? ??? DMB ??? ????????? ??????/??????? ??????. ????????? ??????-???????? (LMB) ? ??? ?? ?????? ??? ??????? ??????, ?? ? ????????????? ?? ????????????? ???????? ????? ??????????? ????? ?????? ????????? ??? ????? ????. ????? ????? ??????? ????????? ???????? ?? ?????? LMB ? ??????? ???????????? ?????? ????????? ?????? ?????? ?????? ??? ????????????? ?? ????????????? ???????.</para>

</sect2>
</sect1>

<sect1>
<title>?????????? ???????: ?????? ?????????</title>

<para>?????? ??? ? ???????? ???????? PDC ??? Samba - ????????? ??????????, ??????????? ? &smb.conf;. ????????? &smb.conf; ??? ?????? ? ???????? PDC ????? ????? ?<link linkend="pdc-example">????? smb.conf ??? ?????????? PDC</link>.</para>

<example id="pdc-example">
<title>smb.conf ??? ?????? ? ???????? PDC</title>
<smbconfblock>
<smbconfsection name="[global]"/>
<smbconfoption name="netbios name"><replaceable>BELERIAND</replaceable></smbconfoption>
<smbconfoption name="workgroup"><replaceable>&example.workgroup;</replaceable></smbconfoption>
<smbconfoption name="passdb backend">tdbsam</smbconfoption>
<smbconfoption name="os level">33</smbconfoption>
<smbconfoption name="preferred master">auto</smbconfoption>
<smbconfoption name="domain master">??</smbconfoption>
<smbconfoption name="local master">??</smbconfoption>
<smbconfoption name="security">user</smbconfoption>
<smbconfoption name="domain logons">??</smbconfoption>
<smbconfoption name="logon path">\\%N\profiles\%U</smbconfoption>
<smbconfoption name="logon drive">H:</smbconfoption>
<smbconfoption name="logon home">\\homeserver\%U\winprofile</smbconfoption>
<smbconfoption name="logon script">logon.cmd</smbconfoption>

<smbconfsection name="[netlogon]"/>
<smbconfoption name="path">/var/lib/samba/netlogon</smbconfoption>
<smbconfoption name="read only">??</smbconfoption>
<smbconfoption name="write list"><replaceable>ntadmin</replaceable></smbconfoption>

<smbconfsection name="[profiles]"/>
<smbconfoption name="path">/var/lib/samba/profiles</smbconfoption>
<smbconfoption name="read only">???</smbconfoption>
<smbconfoption name="create mask">0600</smbconfoption>
<smbconfoption name="directory mask">0700</smbconfoption>
</smbconfblock>
</example>

<para>???????? ?????, ?????????? ? <link linkend="pdc-example">???? ???????</link>, ????????? ????:</para>

<variablelist>
	<varlistentry><term>passdb backend</term>
		<listitem><para><indexterm><primary>??????</primary><secondary>??????? ??????</secondary></indexterm><indexterm><primary>smbpasswd</primary></indexterm><indexterm><primary>tdbsam</primary></indexterm><indexterm><primary>ldapsam</primary></indexterm><indexterm><primary>guest</primary></indexterm><indexterm><primary>??????? ?????? ?? ?????????</primary></indexterm> ????? ???????? ??? ?????????? ? ????????????? ? ???????. ?????????? ???????? ??? PDC: <emphasis>smbpasswd, tdbsam, and ldapsam</emphasis>. ??????? <quote>guest</quote> ????????? ??????? ?????? ?? ?????????, ? ??????????? ?? ?????????; ?????????????, ??? ????????????? ????????? ??? ????? ???????.</para>

		<para><indexterm><primary>passdb backend</primary></indexterm><indexterm><primary>distributed</primary></indexterm><indexterm><primary>smbpasswd</primary></indexterm><indexterm><primary>tdbsam</primary></indexterm> ???? ?????????????? ????????????? BDC, ???????????? ???????? ????? ????????? ???? - LDAP, ???, ????? ????????? ???? ????? ??????????????. ????? tdbsam ?  smbpasswd ?? ????? ?????????? ??????????????, ?, ?????????????, ?? ?????? ??????????????.</para></listitem>
	</varlistentry>

	<varlistentry><term>????????? ?????????? ???????</term>
		<listitem><para><indexterm><primary>os level</primary></indexterm><indexterm><primary>preferred master</primary></indexterm><indexterm><primary>domain master</primary></indexterm><indexterm><primary>network</primary><secondary>logon</secondary></indexterm> ????????? <emphasis>os level, preferred master, domain master, security, encrypt passwords</emphasis> ? <emphasis>domain logons</emphasis> ?????? ??????? ???? ? ??????????? ?????????? ??????? ? ????????? ????? ? ????.</para>

		<para><indexterm><primary>DMB</primary></indexterm><indexterm><primary>encryped password</primary></indexterm> ???????? <emphasis>os level</emphasis> ?????? ???? ?????????? ? 32 ??? ?????. ?????????? ?????? ?????? ???? DMB, ???????? ? ?????? ???????????? <emphasis>user</emphasis>, ???????????? Microsoft-??????????? ????????????? ?????? ? ?????? ????????????? ?????? ???????? ?????. ????????????? ?????? ?????? ???? ????????. ?? ???????? ????, ??? ??? ???????, ?????????? ? <link linkend="passdb">?????????????? ???? ??????? ???????</link>.</para></listitem>
	</varlistentry>

	<varlistentry><term>????????? ?????????</term>
		<listitem><para><indexterm><primary>logon path</primary></indexterm><indexterm><primary>logon home</primary></indexterm><indexterm><primary>logon drive</primary></indexterm><indexterm><primary>logon script</primary></indexterm> ????????? <emphasis>logon path, logon home, logon drive</emphasis> ? <emphasis>logon script</emphasis> ???????? ??????????? ????????? ?????????, ??????? ???????? ????????? ???????? ????? ???????? ? ???????? ????????????? ??????????? ??????????????????? ?????????? ??? ?????????? ?????????? ?????. ??????????, ?????????? ? ????????? ??????????? ?? ??????????? ?? ???? ??????????.</para></listitem>
	</varlistentry>

	<varlistentry><term>????? ?????? NETLOGON</term>
		<listitem><para><indexterm><primary>NETLOGON</primary></indexterm><indexterm><primary>????????? ?????</primary></indexterm><indexterm><primary>???? ? ?????</primary></indexterm><indexterm><primary>??????? ? ??????</primary></indexterm><indexterm><primary>????????? ????????</primary></indexterm><indexterm><primary>NTConfig.POL</primary></indexterm> ????? ?????? NETLOGON ?????? ??????????? ???? ? ????????? ????? ? ????? ? ??????? ? ??????. ???? ????? ?????? ??????????????? ?? ???? ???????????? ?????? Microsoft. ?? ???????????? ??? ?????? ????????? ?????, ??? ???????? ?????? ????????? ??????? (NTConfig.POL), ??? ??, ??? ? ??? ?????????? ?????? ????? ????????????, ??????? ????? ???????????? ??? ????????? ?????. ??? ???????????? ????? ?????? ???????????? ??????.</para></listitem>
	</varlistentry>

	<varlistentry><term>????? ?????? PROFILE</term>
		<listitem><para><indexterm><primary>??????? ???????? ?????</primary></indexterm><indexterm><primary>VFS</primary></indexterm><indexterm><primary>fake_permissions</primary></indexterm><indexterm><primary>???????</primary></indexterm><indexterm><primary/></indexterm> ???? ?????? ???????????? ??? ???????? ???????????????? ????????. ? ??????? ???????????? ?????? ???? ??????? ? ????? ????? ???????. ???? ??????? ?????? ???? ???????? ??? ?????? ?????????????, ? ????????? ???????? ??? ??????. Samba-3 ????? ?????? VFS, ?????????? <quote>fake_permissions</quote> ("?????????? ??????????"), ??????? ????? ???? ?????????? ?? ???? ??????. ??? ???????? ?????????????? Samba ??????? ??????? ????????? ?????? ??? ?????? ??? ????. ???????, ??? ????? ???????????? ?????? ????? ????, ??? ??????? ??? ??????.</para></listitem>
	</varlistentry>
</variablelist>

<note><para>?????????, ??????????? ????, ?????????? ?????? ????? ????????????????, ??????? ????? ?????????? ????? ?????? ???????. ????????? ????????? &smb.conf; ???????? ????????????? ???? ?? ????:</para>

<para>
<smbconfblock>
<smbconfoption name="netbios name">BELERIAND</smbconfoption>
<smbconfoption name="workgroup">&example.workgroup;</smbconfoption>
<smbconfoption name="domain logons">??</smbconfoption>
<smbconfoption name="domain master">??</smbconfoption>
<smbconfoption name="security">????????????</smbconfoption>
</smbconfblock>
</para>

<para>?????????????? ?????????, ?????????? ? ?????????? ???????? ????? ???????, ????? ???? ?????????? ????? ????????? ??????????.</para></note>

</sect1>

<sect1>
<title>?????????? ??????? ADS ?? Samba</title>

<para><indexterm><primary>active directory</primary></indexterm> Samba-3 ?? ???????? ???????? Active Directory, ?, ?????????????, ?? ????? ???????? ??? ??. ?? ?? ????? ??-?????????? ??????????????? ??? Active Directory PDC. ????????? ????????? ??????? ??????????? ?????? Active Directory ???? ??????????? ????????, ?? ????????????????? ??????. ??????????, ?? ????????, ??? Samba-3 ???????????? ??? ?????????. ?? ??????????? ?? ????? ????? ???????????????? ?????? ??? ? ???????. Samba Team ????? ?????? ??? ????????????????? ??????? ??? ???????? ?? ?????????. ??? ????????? ??? ???, ??? ?????? ????????? ??????????? ? Samba-3 ? ???????, ????? ??? ???????????????? ????? ?????????. ????? - ????? ????, ?????-?????? ??? ???????!</para>

<para><indexterm><primary>domain controllers</primary></indexterm><indexterm><primary>active directory</primary></indexterm> ???? ?????? ???????, Samba-3 ??????????, ????? ?????????? ??????? ????? ????????????????, ??????? ????? ??????????? ?????? ???? Microsoft Windows NT4. Samba-3 ?? ????? ???? ???????????? Windows NT4, ?? ? ???? ???? ????? ???????, ??????? ?? ????? ??????????? ?????? Windows NT4. ??????, Samba-3 - ?? NT4 ? ?? Windows Server 200x: ??? ?? ?????? Active Directory server. ????????, ??? ??? ?????????? ???? ? ??????, ????? ???? ???? ???????.</para>

</sect1>

<sect1>
<title>????????? ?????? ? ???????? ?????</title>

<para><indexterm><primary>???? ? ?????</primary></indexterm> ???? ????? ? ???? ??? ? ????? ??????????? ?????, ?????? ??? ??? ?????????? ???????????? ????? ???????????? ????????????????, ?????????????? ???????????? ??????.</para>

<sect2>
<title>????? ?????? ???????? ????? ??????</title>

<para><indexterm><primary>???? ? ?????</primary></indexterm> ?? ???? ???????????? ?????? ?????? ???? ???????? ?????? ????? ? ????? (<emphasis>domain logons</emphasis> in Samba). ???? ?????????? ?????? ?????? ???? ???????? ? <smbconfoption name="domain master">Yes</smbconfoption> (PDC); ?? ???? BDC ????????? <smbconfoption name="domain master">No</smbconfoption>.</para>

<sect3>
<title>?????? ?????????</title>

<example id="PDC-config">
<title>smb.conf ??? ?????? ? ???????? PDC</title>
<smbconfblock>
<smbconfsection name="[global]"/>
<smbconfoption name="domain logons">??</smbconfoption>
<smbconfoption name="domain master">(?? ??? PDC, ??? ??? BDC)</smbconfoption>

<smbconfsection name="[netlogon]"/>
<smbconfoption name="comment">?????? ???????? ?????</smbconfoption>
<smbconfoption name="path">/var/lib/samba/netlogon</smbconfoption>
<smbconfoption name="guest ok">??</smbconfoption>
<smbconfoption name="browseable">???</smbconfoption>
</smbconfblock>
</example>

</sect3>
<sect3>
<title>??????????? ?????? MS Windows XP Home Edition</title>

<para><indexterm><primary>Windows XP Home edition</primary></indexterm> ????? ?????? ?????? ???????: ???? ?? ?????? ????????????? MS Windows XP Home Edition ? ??????? ??????????? ?????? MS Windows NT4 ??? Active Directory, ???????, ??? ??? ?? ????? ???? ???????. ???????????? ????? - ?????? ?????????? ? MS Windows XP Home Edition ?? MS Windows XP Professional.</para>

<note><para>MS Windows XP Home Edition ?? ????? ??????? ? ??????? ???????????? ??????. ? ??????? ?? MS Windows 9x/Me, MS Windows XP Home Edition ????? ??????? ?????? ??????????? ????? ? ????.</para></note>

<para>????, ??? ???????, ?, ??????????, ?? ??????? ? ??????? ????????, ? ?? ????????? ??????????? ?????? ????-???? ?? ?????? ??????? Samba ? ?????????, ??? ??? ????? ???????. ??? ??????? ??????. ???? ??? ?????, ?? ? ???? ?????? ?????????? ???? ???????????? ?????????? ? Microsoft, ? ?? ??????????? ??? ?? ?????? ?????.</para>

</sect3>

<sect3>
<title>??????????? ?????? Windows 9x/Me</title>

<para><indexterm><primary>?????</primary></indexterm><indexterm><primary>??????? ??????</primary></indexterm><indexterm><primary>??????????????</primary></indexterm><indexterm><primary>???????? ????</primary></indexterm><indexterm><primary>?????</primary></indexterm> ????? ? ??????? ?????? ???????? ????? ? ??? ?? ? ?????? ????????? ????. ??????? ? ???, ??? ? ??????? ??????? ?????????????? ???? ?????? ?????????????? - ??? ??????????? ??????? ? ????. ????? ????, ?????????????, ??????? ????????? ?????????????? ?? ??????? ????? ? ?????, ????? ???? ????????? ????????? ????? ???????. ?????? Samba-3 ?????? ??? ??? ?? ????????, ??? ? MS Windows NT/200x.</para>

<para><indexterm><primary>????????</primary></indexterm> ?????? SMB, ??????????? ???? ? ?????, ???????, ??? ????? ?????? ?????? ? ?????? ?????? ??????? ?? ?? ????? ?????????? ??????????????. ???????????????? ????????? ???? ??? ??????? ? ??????? ????? ???????? ??????????, ? ??????? ? ????????????, ??????????? ???????? ????. ?????????? ????????, ??? ???????? ???? ????????? ??????????? ????????? ?????.</para>

<para><indexterm><primary>?????? ????</primary></indexterm><indexterm><primary>????? ? ?????</primary></indexterm><indexterm><primary>??????? ????</primary></indexterm> ???????, ????????? ? ??????? ??????? ??????? ?????, ??????????? ? ???? ???????. Samba ???????????? ????? ? ?????, ???????? ???????? ????? ? ??????? ????????????? ???????? MS Windows for Workgroups ? MS Windows 9x/Me, ??????? ??????? ? ???? ???????.</para>

<para><indexterm><primary>????????????????? ??????</primary></indexterm> ????? ?????? SMB ? ?????? ????? ?????????? ????, ?? ????????? ????????????????? ??????? ? ??????? ??????? ?????. ?????? ?????????? ? ???????? ?????? ? ????????, ???????? ?????? ? ?????????????? ???? ?????????, ??????? ????????? ????????????? Samba. ???????? (?? ?? ????????!) ??????? ?????, ? ??????? ???? ?????? ? ????????????? ?? ????? ???????? ????? ????? ?????????; ?? ???? ??????? ??? ????? ????????? ??????? ?????, ????????????, ??? ????????? ? ??????. ??? ?????????????, ??? ?????????????? ?????? ??????????, ?? ????? ??????????????? ? ????????.</para>

<para>????????? ??? ???????, ?? ?????? ????????? ????? ???????? ??????? ?? ?????? Samba, ????????? ???????? ??? ????? ? ???? ? ????????? ???? ?????????, ??????? ???? ? ???? `????`.</para>

<para><emphasis>MS Windows XP Home edition ?? ???????? ?????????????? ? ?????? ? ?? ????????? ???????????? ???? ? ?????. </emphasis></para>

<para>????? ??????? ?????????? ?? ????????? ????? ????????? ?? ??, ??? ??????? Windows 9x/Me ????????? ????:</para>

<orderedlist>
<listitem>
	<para><indexterm><primary>DOMAIN&lt;1C&gt;</primary></indexterm><indexterm><primary>?????? ?????</primary></indexterm> ?????? ???????? ????????????????? ?????? (?? ????????????????? IP-????? ???????, ? ??????? ?????????) NetLogon. ?????? ??????????? ?? ??? NetBIOS DOMAIN&lt;1C&gt; ?? ?????? NetBIOS. ?????? ???????? ?????? ?????????? ?????, ??????? ???????? NetBIOS-??? ??????? ????? ??? ????????????? ? ??????? <filename>\\SERVER</filename>. ????? ????? <literal>1C</literal> ???????? ??? ?????, ??????? ???????????? ??????????? ?????? (??????? SMB/CIFS, ??????? ????????????? ?????? ????? ? ????).</para>
</listitem>

<listitem>
	<para><indexterm><primary>IPC$</primary></indexterm><indexterm><primary>SMBsessetupX</primary></indexterm><indexterm><primary>SMBtconX</primary></indexterm> ?????? ??????????? ? ???? ????????, ?????? (?????? SMBsessetupX) ? ????? ?????????????? ? ?????? ??????? IPC$ (????????? SMBtconX).</para>
</listitem>

<listitem>
	<para><indexterm><primary>NetWkstaUserLogon</primary></indexterm> ?????? ?????? ?????? NetWkstaUserLogon? ??????? ?????????? ???????? ???????? ????? ????????????.</para>
</listitem>

<listitem>
	<para>????? ?????? ???????????? ? ??????? NetLogon ? ???? ????????? ????????. ???? ??? ??????? ? ?? ????? ?????????, ??? ??????????? ? ??????????? ????????. ????? ????? ?????? ????????????? ?? ??????? NetLogon.</para>
</listitem>

<listitem>
	<para><indexterm><primary>NetUserGetInfo</primary></indexterm><indexterm><primary>???????</primary></indexterm> ?????? ???????? ??????? ?????? NetUserGetInfo, ??????? ???????? ?????? ????????????, ??????? ???????????? ??? ?????? ????????. ????????? ????? ?? ?????? NetUserGetInfo ???????? ?? ?????, ??? ???????? ?????? ????????????, ??????? ??? ???????? Windows 9x ?????? ?????????? ? ???????? ???????? ????????????.</para>
</listitem>

<listitem>
	<para><indexterm><primary>???????</primary></indexterm> ?????? ??????????? ? ???????? ???????? ???????????? ? ???? ??????? ????????????. ????? ??????, ?? ?????? ??????? ???????? ?????? ???????????? ? ???? ?????? ??????? ? ???? -  ????????, <filename>\\server\fred\.winprofile</filename>. ???? ??????? ?????????, ?? ??? ???????????.</para>
</listitem>

<listitem>
	<para><indexterm><primary>CONFIG.POL</primary></indexterm> ????? ?????? ????????????? ?? ????????? ??????? ????????????, ????? ??????????? ? ???????? NetLogon ? ???? <filename>CONFIG.POL</filename>, ???? ???????. ???? ?? ?????????, ?? ???????? ? ???????????.</para>
</listitem>
</orderedlist>

<para>???????? ???????? ? ???????????? ????? PDC ? ???????? ????? Windows 9x/Me:</para>

<itemizedlist>
<listitem><para><indexterm><primary>??????</primary><secondary>plaintext</secondary></indexterm><indexterm><primary>??????????????? ??????</primary></indexterm> ?????????? ?????? ?? ????????? ??? ??????? ????? Windows 9x/Me. ?? ????????, ??? ??????? ? MS Windows 98 ? ?????????? ?? ????????? ????????? ????????????? ???????? ??????? ?????????. ?? ????? ???????? ??????????? ? ???????, ??????? ??????? ? <link linkend="PolicyMgmt">???????? ??????? ? ??????? ???????</link>.</para></listitem>

	<listitem><para><indexterm><primary>??????? ?????? ??????????</primary></indexterm> ??????? Windows 9x/Me ?? ????????? ? ?? ?????????? ??????? ?????? ??????????.</para></listitem>
</itemizedlist>

<para><indexterm><primary>?????? ???????? ?????</primary></indexterm> PDC Samba ????? ???????? ???????? ????? Windows 9x/Me; ? ????? ?? ????????? ??? ?????? ???????? ?????, ??????? ??????? ????? MS Windows 9x/Me.</para>

<note><para><indexterm><primary>???????</primary></indexterm> ????????????? ?????????????? ??????? ?????????? ?? ?????????????. ??? ????????????? ??? ????? ??????????????  ??????????, ???????????? ??????? ??????.</para></note>

</sect3>
</sect2>

<sect2>
<title>?????? ???????????? ? ??????-????????</title>

<para><indexterm><primary>????? ????????????</primary></indexterm><indexterm><primary>???????????? ?????? ????????????</primary></indexterm><indexterm><primary>???????????? ?????? ???????</primary></indexterm> ???? ????????? ????????????, ?????????? ???????? ????????????? ???????. ???? ????? ?????? ? ???, ?????? ?? ??????????? Samba ??? ?????????? ??????, ?????????? ? ?????? ????????????, ???????? ?? "user". ???????????? ????? ????????????, ??????? ?? ????? ???????? ?? ??????????? ???????? - ???????????? ?????? ???????? ("share"). ?????? ???????????? "domain" ? "server" ???????? ????? ???? ?????????? ?? ???? ???????????? ?????? ???????????? ("user") SMB.</para>

<para><indexterm><primary>DOMAIN&lt;1C&gt;</primary></indexterm><indexterm><primary>DOMAIN&lt;1B&gt;</primary></indexterm><indexterm><primary>DMB</primary></indexterm><indexterm><primary>PDC</primary></indexterm><indexterm><primary>NetBIOS-???</primary></indexterm><indexterm><primary>?????????? ??????</primary></indexterm><indexterm><primary>??????</primary></indexterm> ?? ????? ???? ???? ?????? ????? ?????? ?? ??????? ? ???, ??????? ?? Samba ???? DMB ??? ????? ??????? ?????? ??? ??????? ? ?????? ??????????? ??????. ? ?????? ?????? Microsoft Windows NT PDC ?????????? ??????, ?????????? DMB, ? ????? ???????????? ??? NetBIOS DOMAIN&lt;1B&gt;. ??? ?? ???????? ??????, ?? ???????? ??????? Windows ??????? ?????????? ??????, ??? ??????????? ?????? ???????????? ??? DOMAIN&lt;1C&gt;, ? ??????? Windows ???????????? ?????? ????? ?? ????? DOMAIN&lt;1C&gt;. DMB - ??????-??????? ?????? &smbmdash; ???????? <link linkend="NetworkBrowsing">???????? ????</link>, <link linkend="DMB">????????? ????????? ??????? ??????</link>; PDC ?? Microsoft ??????? ?????? ?? ??????? DMB, ???? ?? ?????? ?????????, ? ?????? ??????? Windows ????? ?????????? ?????????? ? ??????????? ?????????????????? ?????????????? ? ???, ??? ?????? ?? ????????? DMB ?????????. ??????? ? ??? ?????, ??? ?????? Samba ???????? PDC, ????? ?????? ????????? ?????????? ?????? Samba ??? DMB.</para>

<note><para><indexterm><primary>DOMAIN&lt;1D&gt;</primary></indexterm><indexterm><primary>?????????????</primary></indexterm><indexterm><primary>?????????? ???????</primary></indexterm><indexterm><primary>?????????? ??????? ?????????</primary></indexterm><indexterm><primary>??????</primary><secondary>????????</secondary><tertiary>?????</tertiary></indexterm> ??????? SMB/CIFS, ??????? ???????????? ??? DOMAIN&lt;1C&gt; , ?????? ???, ?????? ??? ??? ????????????? ?????? ???????? ?????. ???????, ??????? ???????????? ???   DOMAIN&lt;1B&gt; ???????? DMB &smbmdash; ? ??????, ??? ??? ???????? ?? ????????????? ??????? ????????? ????? ???? ?????, ?????????????????? ??? DOMAIN&lt;1D&gt;. ????????? ???????? LMB, ?? ??????? ????? ??????????????? ?? ????????????? ???? ??????????? ???? NetBIOS, ??????? ?????????? ????????, ? ?? ??????????? ??????? ?????????. ?????? ???????? ?????  (NETLOGON) ??????? ??? ?????????? ???????, ? ????? ?? ??????? ? ?????????? ???? ? ??????????? ??????? ?????????. ??????? ? ??????? 1C ? 1B/1D ???????????? ???? ?????.</para></note>

<para>?????? ???????? ????? ? ??????? ????????? ??????????? ?????? Samba ??? ????????????? ? ??????? ????????????, ???????? ?? <smbconfoption name="security">user</smbconfoption>. ???? ???? ? Samba ???????? ?? ????????????? ??????? ??????? SMB ??? ??????????? ?????? ??? ???????? ???????? ?? ??????????? ?????????????, ?? ????????? ?????? ???????? ??, ??? ?????? ???? ???? (<smbconfoption name="password server"/>) ????? ?????? ? ????????????, ??? ???? ? Samba. ? 99 ????????? ??????? ???? ?????? ???? - ?????????? ??????. ????? ???????, ????? ???????? ? ?????? ???????????? ??????, ???????? <smbconfoption name="workgroup"/> ??????? ?????????? ? ??? ?????? Windows NT (e ???????? ??? ???? ???? ?????????? ??????). ???? ?? ? ?????? ??? ??? ??????????? ??????, ?? ? ??? ??? ??? ??????.</para>

<para>????????? ??????? ? Samba ??? ?????????? ?????? ??? ??????, ??????? ??? ?? ??????????? ????? PDC - ??????? ? ?????????. ?????????????, ??? ?????????? ?????? ??????????? ?????????? ?????? Samba ??? DMB ??? ?????? ??????, ? ?????????????  <smbconfoption name="security">user</smbconfoption>. ??? ???????? ???????????? ?????????? ?????????????? ??????? ??????.</para>

</sect2>

</sect1>

<sect1>
<title>????? ??????</title>

<sect2>
<title>?????????? ???????? <quote>$</quote> ? ??? ??????????</title>

<para><indexterm><primary>BSD</primary></indexterm><indexterm><primary>FreeBSD</primary></indexterm><indexterm><primary>/etc/passwd</primary></indexterm> ??????? ?????? ??????????, ??? ???????, ???????? ? <filename>/etc/passwd</filename> ? ???? ????? ?????? ? ??????????? <quote>$</quote>. ????????? ??????? BSD ?? ???????? ???????????? ? <quote>$</quote> ? ?????. ???????? ?????? FreeBSD ?????? ??? ???????????, ?? ?????? ?????? ??? ??? ?????? ????????????.</para>

<para><indexterm><primary>vipw</primary></indexterm> ???????? ?????? ? ?????????, ???????????? ??? ???????? ????????. ??????? ?????????, ?? ???????? ???????????. ???????? ???????????? ??? <quote>$</quote>. ????? ??????????? <command>vipw</command> ??? ?????????????? ????????, ??????? <quote>$</quote>. ???? ???????? ?????? ??????? ? ??????? vipw, ???? ??? ??? ?????? ????????. ??????????????, ??? ??????????? ?????????? UID.</para>

<note><para>??????? ?????? ?????????? ????? ????? ? ???????? ?? ?? ???, ?????? ????? ??????? ???????.</para></note>

<note><para>????????? UNIX <command>vipw</command> ???????? ????????????? ???????????? ??? ??????? ?????????????? ????? <filename>/etc/passwd</filename>. ????????????? vipw ???????????, ??? ????? shadow (???? ????????????) ????????? ? ???????????? ? ???????? ??????? passwd. ??? ????? ?? ???????? ????????????.</para></note>

</sect2>

<sect2>
<title>????????????? ? ?????? ??????????? ????????, ?????? ??? ??????? ?????? ?????????? ??? ??????????</title>
		
<para>
<indexterm><primary>?????????????? ? ??????</primary></indexterm>
<quote>? ??????? ????????? `?? ??? ???????????? ? ?????? ....` ??? `?????????? ????? ? ?????, ?????? ??????? ?????? ?????????? ? ??? ??????????...` ??? ???????? ??????? ?????? ??????????.</quote>
</para>

<para>??? ??????????, ???? ?? ????????? ??????? ??????? ?????? ?????????? ? ???? ??, ? ??? ?????? ?????????? (????????, ???????????? ????) ? ???????? (??? IPC$) ?? PDC Samba. ????????? ??????? ??????? ??? ??????????? ? ??????? ??????:<screen>
&dosprompt;<userinput>net use * /d</userinput>
</screen> ??? ???????? ??? ??????? ???????????.</para>

<para>?????, ???? ?????? ??? ???????? <quote>?????????? ??????? ??????</quote>, ??????? ????? ?? ?? ???, ??? ? ?????, ? ???????? ?? ??????????????? (?????? ????), ?? ???????? ??? ?????????. ???????? ??? ??????? ?????? ?? ???-???? ?????? &smbmdash; ?? ?????, ??? ?????? &smbmdash; ???????????????, ? ?????????? ??? ???.</para>

</sect2>

<sect2>
<title>?????????? ????? ? ??????? (C000019B)</title>

<para><quote>? ??????? ????????????? ? ?????? Samba, ?? ????? ????????  ?? ????? ?????? ???? Samba ??? ??????? ????? ? ??????? ????????? <errorname>`?????????? ????? ? ??????? (C000019B). ??????????, ?????????? ??? ??? ??? ?????????? ? ?????????? ??????????????</errorname>'.</quote>
</para>

<para><indexterm><primary>SID</primary></indexterm> ??? ?????????, ????? SID ??????, ?????????? ? ???? secrets.tdb, ????????. ???????? ????? ??????? ????????? SID ?????? - ?????????????? ?????? ?/??? ??????? (NetBIOS-?????). ???????????? ?????? ????????? ???????? - ???????????? ???????????? SID ??????, ??? ?????? ??????? ?? ?????? ? ????? ? ????? ?? ?????. SID ?????? ????? ????????, ????????? ??????? net ??? rpcclient.</para>

<para>????? ???????? ??? ???????? SID ??????, ?? ?????? ???????????? ??????? net ????????? ???????: <screen>
&rootprompt;<userinput>net getlocalsid '??????_???'</userinput>
&rootprompt;<userinput>net setlocalsid 'SID'</userinput>
</screen></para>

<para>??????? ?????? ??????????? ???????? ?????? ? ???????? (??? ???????) SID. ???? ???? SID ????????, ????????? ?????? (??????? ???????) ?? ?????? ????? ? ?????. ???????????? SID  ?????? ????? ???? ???????????? ?? ????? secrets.tdb. ????????????? ????? ???????? ????????? ?????? ?????? ??????? ??? ?????????? ????????????? ?? ? ??????.</para>

</sect2>

<sect2>
<title>??????? ?????? ?????????? ?? ????????</title>

<para>
<quote>????? ? ?????? ?????????????? ? ??????, ??????? ?????????  <errorname>"??????? ?????? ??? ????? ?????????? ???? ?? ??????????, ???? ?? ????????</errorname>." ??? ?? ????</quote>
</para>

<para>??? ???????? ?????????, ???? ?? PDC ??????????? ?????????? ??????? ?????? ??????????. ???? ?? ??????????? <smbconfoption name="add machine script"/> ??? ???????? ??????? ???????, ?? ??? ??????????, ??? ???????? ??????? ?????? ?? ???????. ??????????????, ??? ??????? ????????????????? ?????? ????????.</para>

<para>????, ???? ?? ???????? ??????? ?????? ???????, ??? ?? ???? ????????? ???????. ??????????????, ??? ? ??? ???? ?????????? ??????? ?????? ?????????? ? ????? <filename>smbpasswd</filename> ?? Samba PDC. ???? ?? ???????? ??????? ??????, ????????? ????????, ???????? ?? ????????? smbpasswd, ??????????????, ??? ?????? ??????? ?????? ???????? NetBIOS-??? ?????? ? ??????????? <quote>$</quote> (?.?. ???_??????????$). ????? ?????? ?????? ?????????????? ??? ? ????????? ???? POSIX, ??? ? ? ???? SambaSAMAccount. ????????? ???? Samba-3 ?? ????????? (?.?., ???????? <parameter>passdb backend</parameter> ?? ?????? ? ????? &smb.conf;, ??? ?????? ??????  <literal>smbpasswd</literal>) ????????? ? ?????? <filename>/etc/passwd</filename> (?????????) ? <filename>/etc/samba/smbpasswd</filename> (??? <filename>/usr/local/samba/lib/private/smbpasswd</filename> ??? ?????? ? ??????????? Samba Team ?? ?????????). ????????????? <filename>/etc/passwd</filename> ????? ???? ?????????????? ??????????????? ??????????? ? ????? NSS <filename>/etc/nsswitch.conf</filename>. </para>

<para>????????? ???? ????? ????????, ??? ?????????????? ???? ? ??????? ????? ???????? Samba ? ???????? NT ????? ???????? ??? ????????. ??????????????, ??? ??? ????????? ? ??????? ? ???????.</para>
</sect2>

<sect2>
<title>??????? ?????? ?????????</title>

<para><quote>????? ? ??????? ????? ? ????? Samba ? ??????? ??????? NT4/W200x, ??????? ????????? ? ???, ??? ??? ??????? ?????? ?????????.</quote></para>

<para>???????? ??????? ?????? ???????????? ???????? <userinput>smbpasswd -e <replaceable>???_????????????</replaceable>
</userinput>.??? ?????? ???????? ??? ???????? ??????? ??????.</para>

</sect2>

<sect2>
<title>?????????? ?????? ??????????</title>
		
<para><quote>?? ????, ??? ??????? ????????? ????? ????? ??????? Samba-3, ??????? ??????? ????????? '?????????? ?????? ??????????'.</quote></para>

<para>?????????? ?????? ?????? ???????? ? ????? ???? ? ????. ??? ?????? ???????? ????? ???????. ?????? ????????? ???????? 15 ?????, ????? ?????????? ???.</para>
</sect2>

<sect2>
<title>?????????? ????? ?? ?????? ??????? ????? ????????????? ? ??????</title>

<para><indexterm><primary>schannel</primary></indexterm><indexterm><primary>signing</primary></indexterm> ????? ???????? ????????????? ? ?????? ???? ????????????? ??????????? ???????? ? ????? ?? ???? ?????????: ?????? - ? ???, ??? ?????????? ????? ????? ??????????; ?????? ????????, ??? ??????? ?????? ?? ?????????? ??? ?????? ???????? ??????. ??? ????? ??????????? ??-?? ????????????? ???????? ????? ???????? Windows ? ???????? Samba-3, ?????????? ????????? ??????????? ?????? (<emphasis>schannel</emphasis>) ??? ????????? <emphasis>smb signing</emphasis>. ????????? ???? ????????? Samba: <emphasis>client schannel</emphasis>, <emphasis>server schannel</emphasis>, <emphasis>client signing</emphasis>, <emphasis>server signing</emphasis>, ????????: <screen>
<command>testparm -v | grep channel</command> ? ??????????? ???????? ???? ??????????.
</screen></para>

<para>????? ?????????? MMC &smbmdash; ????????? ????????? ????????????. ???? ?????????? ???????? ?? ?????? ??????????. ????????? ??????? ????????? ? ????????? ???????? / ????????? ???????????? ? ?????????? ? <emphasis>?????????? ?????:..., ?  ???????? ???????...</emphasis>.</para>

<para>?????, ????? ??? ???? ??????????? ??? ??, ??? ?? ??????? Samba-3.</para>

</sect2>

</sect1>
</chapter>
