<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//Samba-Team//DTD DocBook V4.2-Based Variant V1.0//EN" "http://www.samba.org/samba/DTD/samba-doc">
<chapter id="ServerType">
<chapterinfo>
	&author.tridge;
	&author.jelmer;
	&author.jht;
</chapterinfo>

<title>???? ???????? ? ?????? ????????????</title>

<para><indexterm><primary>???????</primary></indexterm><indexterm><primary>????? ????????????</primary></indexterm> ??? ????? ???????? ??????????, ?????????? ????? ???????, ???????? - ??? ??????????????? ????????? - ????? ???? Samba. ????????????? ????? Microsoft, ???????? ???????????? ??? ??????? ?? Samba, ??????? ?????? ???????? ???????? ??????????????? MS Windows ???????? ? ????????? Samba. ??? ??????, ??? ????? ????? ??????????, ??? ????????????? ??????????? ?????? ???????????? ?? ????, ??? ?? ?????? ????????? ? ?????? ??? ??????????? ?????????? ??????.</para>

<para>??? ????? ???????? ????? ??????? ????????????, ??????? ???????????? Samba, ? ?? ????????? ? ????????? ? ?????????? MS Windows.</para>

<para>??? ????? ?????? ??????: <quote>?????? ??? ????? ?????? ???????????? Samba?</quote> ??????? ????? ???? ???????? ???????, ??????? ????????? ??????????? ? ????????????. ?? ????????, ??? ?????????????? ?????????? ??????? ???????? ?? ???? ??????. ?????? ????????????? ???, ??? ?? ????? ???? ???????? ? ???????????, ??? ??? ?? ??? ??????????? Samba ??????. ??????? ??????? ????? ???? ? ???, ??? ?? ???????? ? ????????????.</para>

<sect1>
<title>??????????? ? ??????? ???????</title>

<para>??? ???????? ????????????? ?? ??????? ??????, ? ???????? ???? ???? ????? ????????? ??????? ??????. ??? ???? ?? ?????? ???? ?????, ? ?????? ????? ? ????????. ??????? ??????? ?????? ? ??????? ??? ? ??????? ???????? ? ??????. ??????  ????????? ?? ???? ? ??????: <quote>??? ??????. ? ???? ?????????? ??? ? ???????? ????????, ? ?????-?????? ?? ??????? ?????-?????? ????????? ????? ??????????!</quote></para>

<para>?????? ???? ???????: ??? ????????, ??? ?????? ????? ??????, ?????????? ?????? ? ???? ?? ?????. ???????? ??? ??? ??? ???, ?? Samba- ??? ??? ??????. ??????????? ? ??? ?????????, ? ??? ???????? ??? ???????? ????????????, ?? ???? ??? ??????????  ???????????? ??, ? ??????? ?? ???????? ?? ???????? ? ??? ???, ??? ????? ?????? ?????????? ???????????.</para>

<para><indexterm><primary>UNIX</primary><secondary>??????</secondary></indexterm><indexterm><primary>??????????????</primary></indexterm> Samba ???????? ??? ??????, ??????? ???????? ???? ?????????? ?????????????? ???????? MS Windows 3.x ? ???????? UNIX. ??? ?????? ??????? ?? ????????? ? ???????, ? ?????? ????????????? ????????????????, ?????????? ??? ???????????????? ?????????????. ? ??? ????? ???? ????????? ??????????. ? ????????, ??????? ?? ????, ?? ????????? ? ? ???, ? ? ??????.</para>

<para>????, ?????? ??????????? ????????????, ?????????? ? ???? ??????</para>

<itemizedlist>
	<listitem><para><indexterm><primary>?????</primary><secondary>??????????</secondary></indexterm> Samba-3 ????? ???????? ?????????? ?????? MS Windows NT4.</para></listitem>

	<listitem><para><indexterm><primary>active directory</primary></indexterm> Samba-3 ?????????? ???????? ?????????????? ? ???????? MS Windows NT4, ??? ??, ??? ? ? ???????? Microsoft Active Directory.</para></listitem>

	<listitem><para><indexterm><primary>???????????</primary><secondary>???????</secondary></indexterm> Samba-3 ????????? ???????????? ??????????? ????????????? ????????? ? ????? NT4.</para></listitem>

	<listitem><para><indexterm><primary>??????????????</primary></indexterm><indexterm><primary>????????????</primary><secondary>??????</secondary></indexterm> ? Samba ???? ?????? ????????????, ??????? ????????? ????? ????? ?????? ??????????????, ??? ???????? ? ????????????? ?????? MS Windows NT4.</para></listitem>

	<listitem><para><indexterm><primary>??????? ??????</primary><secondary>???? ??????</secondary><tertiary>????</tertiary></indexterm><indexterm><primary>?????????????</primary></indexterm> Samba-3 ????????? ???????????? ???????????? ????????? ????????? ???.  (????????????? ?????? ???????? ? ????? ? ????????, ?????????? ??? ????? Windows).</para></listitem>

	<listitem><para><indexterm><primary>???????????????</primary></indexterm> ????????? ???? ????? ?????????????? ? ??????????????? ?????????? ????????. ??? ???? Samba-3 ???????, ??? ? MS Windows NT4, ????????, ? ?? ?????? ??????? ?????? ??????? ??????????, ??? ?????? Active Directory ??? MS Windows 200x.</para></listitem>
</itemizedlist>

</sect1>

<sect1>
<title>???? ???????</title>


<para><indexterm><primary>??? ???????</primary></indexterm> ?????????????? ????? Microsoft ????? ????????? ?? ??? ???? ????????:</para>

<itemizedlist>
	<listitem><para>?????????? ??????</para>
		<itemizedlist>
			<listitem><para>???????? ?????????? ?????? (PDC)</para></listitem>
			<listitem><para>????????? ?????????? ?????? (BDC)</para></listitem>
			<listitem><para>?????????? ?????? ? Active Directory Services</para></listitem>
		</itemizedlist>
	</listitem>
	<listitem><para>??????-???????? ??????</para>
		<itemizedlist>
			<listitem><para>?????? ?????? ? Active Directory</para></listitem>
			<listitem><para>?????? ?????? NT4</para></listitem>
		</itemizedlist>
	</listitem>
	<listitem><para>????????? ??????</para></listitem>
</itemizedlist>

<para><indexterm><primary>?????</primary><secondary>??????????</secondary></indexterm><indexterm><primary>?????</primary><secondary>????????</secondary></indexterm><indexterm><primary>?????????? ???????</primary><secondary>?????????</secondary></indexterm><indexterm><primary>?????????? ???????</primary><secondary>??????</secondary></indexterm> ?????, ???????????? ?????????? ??????? (<link linkend="samba-pdc">?????????? ???????</link>), ????????? ?????????? ??????? (<link linkend="samba-bdc">????????? ?????????? ???????</link>) ? ??????? ? ?????? (<link linkend="domain-member">??????? ? ??????</link>), ???????????? ??????????? ??????????, ?????????? ????????? Samba ??? ?????? ?? ???? ????? ???????. ?????????? ??????????? ??? ?????? ????????????? ? ????? ??????, ?????? ??? ???  ??????????? ????????? ??? ????????????? ???????????? ?????? Samba.</para>

<para><indexterm><primary>?????????</primary></indexterm> ????????? ?????? ????????? ? ?????? ????????? ??? ???? ??????? ???????. ?????????? ? <link linkend="StandAloneServer">????????? ???????</link>, ????? ???????? ????? ??????? ??????? ???????? ????, ??? ??????? ? ???? ??? <emphasis>?????????</emphasis> ????????.</para>

</sect1>

<sect1>
<title>?????? ???????????? Samba</title>


<para><indexterm><primary>????? ????????????</primary></indexterm><indexterm><primary>????????????</primary></indexterm> ? ???? ??????? ??????? ??????? ? ?????????? ??????? ???????????? Samba's. ?????????? ????????? ????, ??? Samba ???????? ? ?????? ?????? ????????????, ??? ??, ??? ? ????????? ???????? MS Windows ??? ??????? ??????, ??????????? ???????? ????? ????? ????????????? ? ???????? ???? ??????????????.</para>

<para><indexterm><primary>Server Message Block</primary><see>SMB</see></indexterm><indexterm><primary>Common Internet Filesystem</primary><see>CIFS</see></indexterm> ???? Microsoft Windows ?????????? ????????, ??????? ?????????? ????????? Server Message Block (SMB) (????? ????????? ?????????). ???????? ? 1996 ???? ???????? ???? ?????? ???????? ??? Common Internet Filesystem (CIFS) (????? ???????? ??????? ?????????).</para>

<para><indexterm><primary>?????? ????????????</primary></indexterm><indexterm><primary>?????? ????????????</primary></indexterm><indexterm><primary>???????????????? ???????</primary></indexterm><indexterm><primary>??????? ????????</primary></indexterm> ? ???? ????? SMB/CIFS ?????????? ?????? ??? ???? ????????????: <emphasis>????????????????? ??????</emphasis> ?  <emphasis>?????? ????????</emphasis>. ?? ???????????? ???????? ???  <emphasis>?????? ????????????</emphasis>. ? ?????????? ???? ???? ??????? ???????????? Samba ???????????? ????????, ??????? ??????????? ? ????????? MS Windows NT4/200x. ?? ????? ???? Samba ????????? ???????????? <emphasis>?????? ????????</emphasis> ?????? ????? ????????, ?? ???? ????? ?????? ??????? ?????????? ???????????? <emphasis>?????? ????????????</emphasis>. ???????????? ?? ????????  Samba-?????????? ??????? ???????????? <emphasis>???????? ????????????</emphasis>. ??? ?????? ???????? ??? <emphasis>share</emphasis> (?? ?????? ????????), <emphasis>user</emphasis> (?? ?????? ????????????), <emphasis>domain</emphasis> (????????), <emphasis>ADS</emphasis> (????? ? ADS), ? <emphasis>server</emphasis> (???????? ??????? ?????? ?? ?????? ???????). ??? ??? ??????? ? ???? ?????.</para>

<para>?????? SMB ?? ????? ????????????? ?????? ??????????? ??????? ?? ?????? ????????????, ?? ??????? ???????? ??????. ?????????? ??? ????????: ??????? ???????? ? ??????? ????????????. ?? ????, ??? ?????? ???????, ??????? ??????, ??????? ?? ????? ???????? ???????????????????. ?? ????? ??????????? ?? ??????? (? ???????-?????? ???????? ??????) ??? ??????, ??????? Samba ???????????? ????????????. ??? ????? ??????? ???????, ?? ?????? ? ?????? ??????/?????????? ??????? SMB. ? SMB ??? ???????????? ? ?????????????? ????????, ? ?????? ????? ??????? ???????, ??? ????????, ? ????????? ?? ????????.</para>

<para>?????? <literal>??????</literal> ????????? ?? ???? ???????, ???????? ?? ??? ??????? ???????? Windows, ???????? Windows, ?????? ???????? Samba  ??? ????? ?????????? ??????????? SMB ??? CIFS (????????, <command>smbclient</command>), ??????? ?????????? ???????. ??????????????? ???????? SMB/CIFS.</para>

<sect2>
<title>???????????? ?????? ????????????</title>

<para><indexterm><primary>??????? ????????????</primary></indexterm> ?? ?????? ???????????? ?????? ???????????? ? ?????? ???????, ??? ???????? ???????. ??? ???????????? ?????? ???????????? ?????? ???????? ?????? ???????????? ?????? ????? ?? ????????????? ?????????. ???? ?????? ???????? ??? ???????????? ? ??????. ?????? ????? ???? ???????, ???? ?????????? ??? ?????????? ???/??????. ?? ???? ?????? ? ??????? ??? ???? ?? ?????? ???????, ? ????????, ? ????? ??????, ?????? ?????????? ????????????, ??????? ?? ?? ????? ?????????? ???? ????? <emphasis>?????????/???????</emphasis>?? ???-?? ???, ?????:</para>

<orderedlist>
<listitem><para>??? ????????????/??????</para></listitem>
<listitem><para>??? ??????-???????.</para></listitem>
</orderedlist>

<para><indexterm><primary>???????? ??????? ??????</primary></indexterm> ???? ?????? ????????? ???? ??? ???????????/??????, ?????? ???????, ??? ???????? ??????????? ????? ??????? (????????? <emphasis>????????????? ? ??????</emphasis>) ??? ??????????? ???????? ??????. ?? ???????, ??? ??? ????? ??????? ????? ??????????? ???????? ????????????/??????, ????????? ? ?????????????? <emphasis>????????? ??????</emphasis>.</para>

<para><indexterm><primary>????????? ??????</primary></indexterm> ????? ????, ??????? ????? ???????? ????????????? ??????? ?? <emphasis>????????? ??????</emphasis>. ????? ?????? ????????, ?? ?????? ??????? <emphasis>?????????????</emphasis>, ??? ????????????? ? ???????? ??????? ?? ?????????????? ? ???? ????? ??? ????????????/??????. ????? ???????, ?????? ????? ???????? ? ??????????? ??????????? ?????????????? (???????? ??????????, ????????? ???, ???????? WinDD).</para>

<para><indexterm><primary>LanManager</primary></indexterm><indexterm><primary>???????????-???????</primary></indexterm><indexterm><primary>????????????????-?-????????</primary></indexterm><indexterm><primary>???????-???????</primary></indexterm><indexterm><primary>??????-???????</primary></indexterm> ????? ???????????????? ??????? ??????? ????? Windows ???????? ????????????????? ? ????????- ??? ??????, ??? ??????? ??? ????????, ??? ? ???????  ????????? ????????? ??????????????. ??? ??? ???????, ??? ??????? ???????????, ?? ?? ????? ????????. ??????? Windows ? LanManager ?? Windows NT ?????? 3.10 ????? ??????, ???????????????? ? ???????? ??????, ??????? ?? ??????????? ????????? ???????. ??? ??????? ????????? Windows NT ????????????? ?????? ??? ?????????????? ? ????????, ? ???? ??????? ?????????.</para>

<sect3>
<title>?????? ????????????</title>

<para>???????? &smb.conf;, ??????????????? ???????????? ?????? ????????????:</para>

<para><smbconfblock>
<smbconfoption name="security">????????????</smbconfoption>
</smbconfblock></para>

<para>??? ???????? ?????????? ?? ????????? ? Samba-2.2.x.</para>

</sect3>

</sect2>
<sect2>
<title>???????????? ?????? ???????</title>

<para><indexterm><primary>??????? ????????</primary></indexterm><indexterm><primary>???????????</primary></indexterm> ? ?????? ???????????? ?????? ???????? ?????? ???????? ??????????????? ???? ??? ??????? ???????. ?? ???????? ?????? ?????? ? ?????? ???????? ?? ??????????? ? ?????? (???????????? ?????? ???????), ?? ? ????? ???? ??? ???????????? ?? ???????????. ?????? ????????????, ??? ? ?????? ???????? ?????? ??????, ?????????? ?? ????????????. ??? ??????, ??? Samba ?????? ????????, ????? ??? ???????????? ??????, ????????? ?????, ????? ????????????, SMB-??????? ?? ????????? ??? ???????????? ? ????? ????. ????????? ???????????? ??????? SMB, ?????, ??? NT, ????????????? ????????? ?????? ????? ? ????????? ? ?????? ???????????? ?????? ????????, ?? Samba ?????? ?????????? ?????  ?????????????? UNIX, ? ??????? ??????????? ?????? ???? ???_????????????/??????, ? ?? ???? ??????/??????.</para>

<para>????? ?????? ????????? ? ?????? MS Windows, ??????? ? ????????  networking MS Windows 9x/Me, ??? ???????? ??????? ????? ?????, ??????? ????????????? ?????? ???? ??????, ???? ?????? ??? ??????, ? ??????? ??? ???.</para>

<para>?????? ??????? ???????? ?????? ?? ????????????? ?????? ???? ? ??? ??????, ???? ?????? ???????? ? ?????? ???????????? ?? ?????? ???????. ?????? ??? ????????? ???????????? ??? ???????????? ??? ??????. Samba ?????????? ??? ??? ???????????? ? ?????? ????????? ???? ?????????????. ????? ?????? ???????? ?????? ????????????? ? ??????, Samba ????? ????????? ? ???? ?????? ??? ???????, ? ???????? ????????????, ? ??? ????? ?????????????, ????????????? ? ????????? <smbconfoption name="user"/> ? ????? &smb.conf;. ??????, ? ???? ???????, ??????????? ?? ???????????? ???? ????????? ?????? ?????????????. ???? ??????? ????????????, ?????? ????????????????? ??? ???? ????????????.</para>

<para><indexterm><primary>????????????? ????? ????</primary><see>NSS</see></indexterm><indexterm><primary>/etc/passwd</primary></indexterm><indexterm><primary>nsswitch.conf</primary></indexterm> ???, ??? ?????? ????????? ???? ????????????? ?? ????????????, Samba ?????? ????????? ????? UNIX, ????? ????? ????????????, ??? ?????? ????????????? ??????????? ???? ??????? ???????. ?? ????????, ?? ??????? ??????????? ???????????? ????? ???? (NSS), ??? ?????? ????? ???? ?? ????? <filename>/etc/passwd</filename>. ?? ???????? ? ?????????? NSS ????? ????? ??????? ????????????, ?????????? ? ?????  <filename>nsswitch.conf</filename>. ???????? ? ?????, ? ??????? ??????????? ??????????, ??????: <screen>
passwd: files nis ldap
shadow: files nis ldap
group: files nis ldap
</screen><indexterm><primary>/etc/passwd</primary></indexterm><indexterm><primary>/etc/group</primary></indexterm><indexterm><primary>NIS</primary></indexterm> ? ???????, ??????? ??????? ????? (?????? ?? ??????????? ? ????????), ????? ???????? ????? <filename>/etc/passwd</filename> ? <filename>/etc/group</filename>, ???? ?????? ?? ?????? - ???????? NIS, ????? LDAP.</para>

<sect3>
<title>?????? ????????????</title>

<para>???????? ? &smb.conf;, ??????? ????????????? ???????????? ?????? ???????:</para>

<para><smbconfblock>
<smbconfoption name="security">????? ??????</smbconfoption>
</smbconfblock></para>

</sect3>
</sect2>

<sect2>
<title>????? ???????????? ?????? (???????????? ?????? ????????????)</title>

<para><indexterm><primary>?????</primary><secondary>???????????</secondary></indexterm><indexterm><primary>????????????</primary><secondary>???????????</secondary></indexterm><indexterm><primary>PDC</primary></indexterm><indexterm><primary>BDC</primary></indexterm><indexterm><primary>????</primary></indexterm><indexterm><primary>??????????????</primary></indexterm> ???????????? ?????? ???????????? ???????? ???????? ???? ??????? ??????? ????????????? ? ????? ? ???????????????? ???????????  ?????????. ???????????????? ????????? ??????? ??????? ??????????? ????? ???????????? ?????? (????????????). ???????, ??????????? ????????????? ??????, ???????????? ?????? ????? ?????????????? ? ???????? ??? ???? ?????, ??????????? ? ????????? ???????????? ??????. ????????? ?????????? ?????? (PDC) ???????? ????????, ????????????? ?? ??????????? ??????????? ???? ??????? ???????. ????????? ??????????? ?????? ???????????? ?????? ?????? (BDC) ????? ? ????? ? ??????????????. ?????? BDC ???????? ?? ??????? ????? ? ???? ???????, ??? PDC.</para>

<para><indexterm><primary>??????? ? ??????</primary></indexterm><indexterm><primary>??????? ?????? ???????</primary></indexterm><indexterm><primary>???????</primary><secondary>??????? ??????</secondary></indexterm><indexterm><primary>?????</primary><secondary>????????????</secondary></indexterm><indexterm><primary>?????</primary><secondary>??????????</secondary></indexterm> ????? Samba ???????? ? ?????? ???????????? <smbconfoption name="security">domain</smbconfoption>, ? ??????? Samba ??????? ??????? ?????? ??????? ?????? (??????? ?????? ??????????), ? ??????? ??? ??????? ?? ?????????????? ?????????? ???????????? ??????. ??????? ???????, ??? ???????????? ?????? ?? ??????? Samba ??????-???????? ??????, ???? ???? ?? ????????? ? ???? ??????????? ??????. ??? ??????, ??????? ????????? ? ???????????? ??????, ?????? ????? ??????? ?????? ?????????? ? ???? ??????? ??????? ????????????.</para>

<para><indexterm><primary>??????? ??????</primary><secondary>???? ??????</secondary></indexterm><indexterm><primary>??????</primary><secondary>??????? ??????</secondary></indexterm><indexterm><primary>NetBIOS</primary><secondary>???</secondary></indexterm><indexterm><primary>NetBIOS</primary></indexterm> ?????? ??????????? ????????? ?????? ??????????? ??????????? ???????????? ?????????? ???????????? ?????? ????????????. ???? ??????????, ??????????  ??????????? ??????, ?????? ??????????????????? ??? ???????. ??????? ?????? ?????? ??????? ?? ???????????????? ???????? ? ???? ??????? ???????, ??? ???????? -NetBIOS-??? ??????, ? ?????? ???????????? ????????? ???????, ? ???????? ????????? ??? ??????????? ??????, ??? ? ??????. ???? ??????? ?????? ?????? ?? ????? ???? ????????? ??? ????????, ???????????? ?? ?????? ??????? ? ?????, ????????? ??? ??????, ????????? ?? ?????? ????????. ??????? ?????? ?????? ????? ???????? ??? ????????? "??????? ?????? ??????? ? ??????".</para>

<para>???? ??? ???????? ????????? ????????? ??????:</para>

<orderedlist>
	<listitem><para>????????? ?????????? ?????? (PDC) - ???? ?? ?????.</para></listitem>
	<listitem><para>????????? ?????????? ?????? (BDC) - ?? ????? ???? ????? ??????????.</para></listitem>
	<listitem><para>??????-???????? ?????? (DMS) - ????? ???? ????? ????? ?? ?????.</para></listitem>
</orderedlist>

<para><indexterm><primary>DMS</primary></indexterm> ?????? ?? ??? ?? ??????? ? ????????? ??????. ? ?????? ??? ?????? ????? ?????????? ?????? ????????? DMS.</para>

<sect3>
<title>?????? ????????????</title>
<para><emphasis>Samba ??? ??????-???????? ??????</emphasis></para>


<para><indexterm><primary>??? ???????</primary><secondary>???????? ??????</secondary></indexterm> ???? ????? ???????????? ?????????? ????????? ?????????? ? ???? &smb.conf;: <smbconfblock><smbconfoption name="security">domain</smbconfoption><smbconfoption name="workgroup">&example.workgroup;</smbconfoption></smbconfblock></para>

<para>????? ???? ????? ???????, ?????? Samab ?????????? ???????????? ? ?????? MS Windows NT. ??? ???????? ???: <indexterm><primary>net</primary><secondary>rpc</secondary></indexterm><indexterm><primary>???????? ??????</primary><secondary>?????????????</secondary></indexterm></para>


<procedure>
        <step><para>?? ??????????? ?????? MS Windows NT, ????????? Server Manager, ???????? ??????? ?????? ?????? ??? Samba-???????.</para></step>

        <step><para>?? ??????? UNIX/Linux ?????????:</para>
	
			<para><screen>&rootprompt;<userinput>net rpc join -U administrator%password</userinput></screen></para>
		</step>
</procedure>

<note><para><indexterm><primary>smbpasswd</primary></indexterm> Samba-2.2.4 ? ????? ??????? ?????? ????? Samba 2.2.x ????? ????????????? ?????????????? ? ?????? Windows NT4 ??????? ???????????: <screen>
&rootprompt;<userinput>smbpasswd -j <replaceable>???_??????</replaceable> -r <replaceable>???_PDC</replaceable> \
	 -U Administrator%<replaceable>??????</replaceable></userinput>
</screen><indexterm><primary>net</primary><secondary>rpc</secondary><tertiary>join</tertiary></indexterm> Samba-3 ????? ?????? ?? ?? ????? ??? ??????????: <screen>
&rootprompt;<userinput>net rpc join -U Administrator%<replaceable>??????</replaceable></userinput>
</screen> ? Samba-3 ??? ????????????? ????????? <replaceable>???_??????</replaceable> ??? <replaceable>???_PDC</replaceable>, ????????? ??? ?????? ?? ?? ???????? ? ????? &smb.conf;.</para></note>

<para><indexterm><primary>???????????? ????????</primary></indexterm><indexterm><primary>/etc/passwd</primary></indexterm><indexterm><primary>/bin/false</primary></indexterm> ????????????? ????? ?????? ?????????????? ??????? ??? ??????? ???????????? ??????????? ??????? ?????? UNIX ? ???, ????? ????????? UID ????? ?????????????? ??????? ?????? ???????????? ?????? Windows. ??? ??????? ?????? ????? ???? ?????????????, ????? ????????????? ????? ????????, ???????? ?? MS Windows, ?????? ??????????, ??? ?????????? ???????????? ???????? ? ????? <filename>/etc/passwd</filename>. ?????? ?????? ????????? ???????? ???????? ???????????????? ??????? ?????? - ?????????? ???????? ?????? ????? <filename>/bin/false</filename>.</para>

<para><indexterm><primary>PDC</primary></indexterm><indexterm><primary>BDC</primary></indexterm> Domain controllers can be located anywhere that is convenient. The best advice is to have a BDC on every physical network segment, and if the PDC is on a remote network segment the use of WINS (see <link linkend="NetworkBrowsing">Network Browsing</link> for more information) is almost essential.</para>

<para>???????????? ?????????? UID'?? ????????????? Windows ?? Samba-???????-????????? ?????? ???????????? ? <link linkend="winbind">Winbind</link>, <link linkend="winbi nd">Winbind: ????????????? ??????? ??????? ??????</link>.</para>

<para>?? ?????????????? ???????????, ?????????? ??????? ? ??????, ???????? <link linkend="domain-member">??????? ? ??????</link>.</para>

</sect3>
</sect2>

<sect2>
<title>????? ???????????? ADS (???????????? ?????? ????????????)</title>

<para><indexterm><primary>ADS</primary></indexterm><indexterm><primary>native mode</primary></indexterm> ? Samba-2.2, ? Samba-3 ????? ?????????????? ? ?????? Active Directory ? ?????????????? ????????????, ?????????? ?? RPC, ? ????? NT4. ??? ????????, ???? ????? ???????? ? "??????" ??????. Active Directory ? "??????" ?????? ???????????? ???????? ? ??????????? ?????? ? ????? NT4. ??? ???????????? ??????????? ???????.</para>

<para>???? ?? ??????????? Active Directory, ??, ??????? ? Samba-3, ?? ?????? ?????????????? ? ?????? ??? ??????????? ???????? AD. ????? ??? ??? ????? ???? ???????? ???????????? ????? ????????? ????????????? NT-??????????? ?????????? ??????????????. ??? ???? ??????, ?????????? ??? Windows 2000 ? ???? ?????????? Kerberos. ? ???? ?????? Samba ? ???? ?????? NT4, ????????? ?? ? NT-??????????? ?????? ??? ??????????????.  Samba ? ?????? ????????? AD ????? ????????? ?????? Kerberos.</para>

<para><indexterm><primary>??????????</primary></indexterm><indexterm><primary>????????? ?????</primary></indexterm>????????, ??????? ?????????? Active Directory Services (ADS) ??? Microsoft Windows, ?????? ???? ????????? ?? ?????????? ????????: <literal>"??????" ?????</literal> ? <literal>????????? ?????</literal> ?????? ADS. ????????? <literal>??????????</literal> ????????????, ????? ??????? ??????????? ????????????, ?????????? ?? Kerberos (?????, ??? ?????????? Microsoft ADS).</para>

<sect3>
<title>?????? ????????????</title>

<para><smbconfblock>
<smbconfoption name="realm">????.??????????.Kerberos</smbconfoption>
<smbconfoption name="security">ADS</smbconfoption>
</smbconfblock></para>

<para>????? ????????????? ????????? ?????????:</para>

<para><smbconfblock>
<smbconfoption name="password server">???.??????.Kerberos</smbconfoption>
</smbconfblock></para>

<para>??????????, ?????????? ? <link linkend="domain-member">??????? ? ??????</link>, and <link linkend="ads-member">??????? Samba ? ?????? ADS</link> ?? ?????????? ???????????, ?????????? ???? ???????? ????????????.</para>

</sect3>
</sect2>

<sect2>
<title>????? ???????????? "??????" (???????????? ?????? ????????????)</title>

<para>????? ???????????? "??????" ??????? ?? ??????, ????? Samba ?? ????? ???? ????????-?????????? ??????. ?????????? ??????????? ?? ???????????? ??? ???????. ????? ???????????? "??????" ????? ????????? ???????????, ????? ???????:</para>

<itemizedlist>
	<listitem><para>????????????? ?????????? ??????? ?????? ?? ???????? MS Windows NT4/200x, ??????????? ??????.</para></listitem>
	<listitem><para>???????? ??????????? ? ???, ??? ??????, ??????????? ?????? - ?????? ???, ??????? ??????. </para></listitem>
	<listitem><para>?? ???????? ? Winbind, ???, ? ?????????, ?????????? ??? ???????? ???????????? ????????.</para></listitem>
	<listitem><para>???? ????? ????????? ????? ?????????? ? ????????, ??????????? ??????, ? ?????? ?? ????????? ?????? ?????.</para></listitem>
	<listitem><para>???????????? ?? ??????? Samba ???????? ????? ?????? ???????, ????? ????????? ??????, ??????????? ??????, ???????? ????????? ????????.</para></listitem>
	<listitem><para>? ???? ?????? ??? Samba-??????? ??? ??????? ?????? ? ??????, ? ???????? ??????????? ??????, ??????????? ??????.</para></listitem>
</itemizedlist>

<para><indexterm><primary>????????? ??????</primary></indexterm><indexterm><primary>SMB</primary></indexterm> ? ?????? ???????????? "??????" ?????? Samba ???????? ???????, ??? ?? ????????? ? ?????? ???????????? ?????? ????????????. ????? ?????? ?????? ????????? ??????, ??? ???? ??????? ?????. ?????? Samba ????? ??? ???????????? ? ??????, ?????????? ????????, ? ???????? ???????????? ? smbconfoption name="password server"/&gt;, ??????? ????? ?? ?? ??? ????????????/??????, ??? ???????? ?? ???????. ???? ??? ?????? ????????? ? ?????? ???????????? ?????? ???????????? ? ????????? ??????, ?? ? Samba ????????? ?????????? ?? ???????. ???? ???????? ????????? ??????? Samba ???????????? ?????? ?????? SMB ??? <smbconfoption name="password server"/>.</para>

<para><indexterm><primary>??????? ????????????</primary></indexterm><indexterm><primary>??????????</primary></indexterm> ??? ??????? ????????, ??? ? ?????? ????? ?????, ????? ?????? ???????? ???????, ?? ????? ?????? ???????????? ?? ?????? ????????, ?? ????? ????????, ?????????????? ?? ??????????. ???? ??, ?? ?????? ?????????? ????????? ?????????. ? ???? ?????? ?????? ????? ???????? ??? ???? ?????? ? ????????????? ????. Samba ???????????? ???? ??? ?????????? ?? ?????????.</para>

<para>???????? <smbconfoption name="security">server</smbconfoption> ?????????? Samba ???????? ???????, ??? ??? ???????? ? ?????? ???????????? <emphasis>?????? ????????????</emphasis>, ?? ?? ????? ???? ??? ??????? ?? ?????????????? ????? ???????????? ??????? ??????? ? ????????????? ?????? ????????????. ??? ??????? ??????????????? ????????? <smbconfoption name="password server"/>, ??????? ????????? ?? ????????? ?????? ??????????????. ????????? ?????? ?????????????? ????? ???? ?????? ???????? Samba, ??? ?? ????? ???? ???????? Windows NT, ??????? ?? ????????? ???????????? ????????????? ??????.</para>

<note><para><indexterm><primary>?????? ???????</primary></indexterm><indexterm><primary>??????? ??????</primary></indexterm> ????? Samba ???????? ? <emphasis>?????? ???????????? "??????"</emphasis>, ?????, ????? ???????? <emphasis>?????? ???????</emphasis> ??? ?????????? ? ?????? NetBIOS-??? ?????? ????????? ??????? ??????????????. Samba ?? ????? ?????????? ??? ?? ??????? ???? NetBIOS, ?????? ??? ????? ????????? ??????? ?????????????? ???????? ???????????? ? ?? ????? ???? ????????? ?? ????? ??????. ? ????????, ????? ?????? Samba-???????, ???????????? ? <emphasis>?????? ???????????? "??????"</emphasis>, ?????????? ??????? ??????? ??????.</para></note>

<sect3>
<title>?????? ????????????</title>
<para><emphasis>????????????? MS Windows NT ? ???????? ??????? ??????????????</emphasis></para>

<para>???? ????? ????????? ?????????? ????????? ?????????? ? ???? &smb.conf;:</para>

<para><smbconfblock>
<smbconfoption name="encrypt passwords">??</smbconfoption>
<smbconfoption name="security">??????</smbconfoption>
<smbconfoption name="password server">"NetBIOS_???_???????????_??????"</smbconfoption>
</smbconfblock></para>


<para>???? ??? ??????? ????????????????, ?????? ?? ???????? ???? ?? ????? ???????????? ? ??????. ?????? ?? ??? ?????????? ???????? ??????????, ?????????? ?????? ?????? ??????????? ? ???????? ??????????????, ?????? ?????????? ?????? ??? ??????.</para>

<para><indexterm><primary>????????????</primary></indexterm><indexterm><primary>??????????</primary></indexterm> ?????????? ????? ?????? ?????? ? ???, ??? ?? ???????? ???????????? Samba ????? ???????? ??????? ??????? ???????? ??? ? ??????, ? ???? ????????? ?????? ????????? ?????????? ???? ?? ???????? ????? ? ??????, ?? ???????????? ?????????????? ????? ????????????? ??? ????????. ???? ???? ?????????? ??????????, ??? ????? ?????????? ????? ??????????? ??????? ?????????????? ???????? ? ??????????? ?????????????.</para>

<para>????????????? ????? ?????? ?????????????? ??????? ??????????? ??????? ?????? UNIX ??? ??????? ????????????. ??? ??????? ?????? ????? ???? ?????????????, ????? ????????????? ????? ???????????, ????? ???????? SMB/CIFS.</para>

</sect3>
</sect2>

</sect1>

<sect1>
<title>???????? ??????</title>

<para>??????? MS Windows ????? ???????????? ????????????? ?????? ??? ????? ?????? ?????????????? "??????-?????" (????? ?????????, ??? NTLMv1 and NTLMv2) ??? ???? ?? ????, ??? ?????? ???????????????? ?????? ??? ??????? ?????????????? ?? ??????.  ?????????? ??????????, ??? ? ????????? SMB ?????? ?? ???? ?????????? ???? ? ??????????????? ????, ???? ? ????????????? - ?? ?? ??? ???????? ? ????? ??????? ??????????????.</para>

<para><indexterm><primary>????????????? ??????</primary></indexterm><indexterm><primary>?????????????</primary></indexterm> ????? ???????????? ????????????? ??????, ??????, ????????? ?????????????, ????????? ????? ?????????:</para>

<itemizedlist>
        <listitem><para>??? MD4 Unicode-????????????? ?????? ??????. ??? ?? ???????? ??? ?????? ??? NT.</para></listitem>

        <listitem><para>?????? ????????????? ? ??????? ???????, ?????????? ??? ??????????? ?? 14 ????. ????? ? ???? ?????? ?????????? 5 ??????? ????, ? ??? ??????? ?? ???, ????? ?????????? ??? 56-?????? ????? DES, ????? ??????????? "?????????" 8-???????? ????????. ?????????? 16 ???? ?????????? ??? LanMan.</para></listitem>
</itemizedlist>

<para><indexterm><primary>??????????????? ?????</primary><secondary>passwords</secondary></indexterm> MS Windows 95 ?? sp1 ? MS Windows NT ?????? 3.x ? ?????? 4.0 ?? service pack 3 ????? ???????????? ????? ?? ??????? ?????????????? ?? ??????. ??? ????? ??????? ?????? MS Windows ?? ???????????? ??????????????? ?????? ?? ?????????.</para>

<para><indexterm><primary>????????????</primary><secondary>??????</secondary></indexterm> ??????? MS Windows ????? ???????? ????????? ??????? ???????????, ??????? ?????????????? 10 ????? ??? ?????. ????? ???????????? ???????? ???????????? ???????????? ??????? ????, ??????? ????????, ?????? ???????? ????????????? ??????????, ????????? ???????????? ????? ??????.</para>

<para>????? Micorsoft ???????? ????? ??????? ?? ?????????, ???? ?????? ????????? ??????????? ??????? ? ??????????????? ????. ?????????????? ????? ?????????? ???????? ??????? ??? ?????????? ????????????? ?????????????? ???????, ???????, ??? ??? ????????, ?? ????? ?????????? ? ???????????? ??????? ???????? ???????????? ?????, ????? ?? ????????? ? ??? ??????. ???? ????????? ?????? ?? ???????????? ????????????? ??????. ??????????? ?????? ???? - ????? ???????? ?????????? ??????????????? ??????? ? ????? ????????.</para>

<para>????????? ????????? ??????? ?????? ???????? ? ????????? Windows 9x/Me, ??????? ????????? ??? ???????????? ? ?????? ? ??????? ??????? ?? ???????? ?? SMB-?????? ??? ?????????????? ???????? ???????:</para>


<?latex \newpage ?>
<smbconfblock>
<smbconfoption name="password level"><replaceable>????? ?????</replaceable></smbconfoption>
<smbconfoption name="username level"><replaceable>????? ?????</replaceable></smbconfoption>
</smbconfblock>

<para>?? ????????? Samba ??????????? ? ?????? ??????? ??? ???????????? ?? ??????? ?????? ???????????? ? ????????? ???? ????????? ??????? ???????. ????????? ????? ????????????? UNIX ?? ??????????? ???????? ?????? ??????? ??????? ????????, ????? <smbconfoption name="username-level"/> ?????????? ?????.</para>

<para><indexterm><primary>clear-text</primary></indexterm> ?????? ?????? ?? ???????? UNIX ????? ?????????? ??? ??????? ??????? ????????, ??? ? ????????. ?????????????, ????? ???????????? ? ???????? Windows 9x/Me ??? ???????????? ? ??????? Samba, ????????? ?????????????? ???????? ???????, ????? <smbconfoption name="password level"/> ?????? ???? ?????????? ? ???????????? ????? ???? ???????? ????????, ??????? <emphasis>?????</emphasis> ????????? ? ??????. ????????, ??? ???? ?? ??????? ?????????? ???????????? DES-?????? crypt(), ???????? <smbconfoption name="password level"/>, ?????? 8, ???????? ? ???????????????????? ?????? - ? ????? ?????? ????????????? Windows. ??? ????? ???????? ? ?????????? ???????? ??? ?????, ?????? ??? Samba ?????? ????????? ??? ???????????? ? ????????? ?????? ??????, ? ??????????? ?? ??? ?? ????? ?? ??? ???, ???? ?? ????? ??????? ???????????? (??? ??? ?????????? ????? ?????????).</para>

<para>?????? ????? ??? ????????? - ????????? ????????? ????????????? ??????? ?????, ??? ?? Samba ?? ??????????????. ??????? ????? ??????? ????????? ????????? ??????? ??? ?????????? ????????? ????????????? ??????? ????? ? ??????? ? ?????????? ?????????????.</para>

</sect1>

<sect1>
<title>????? ??????</title>

<para>??? ?? ?????? ??????. ??? ????????? - ?????? ??????, ?? ?????? ?? ??? ???, ???? ??? ???????? ? ?????? ????? ? ? ?????? ?????. ??????, ?????????? ? ?????? ??????????????????, ????? ??????????? ????????; ?????? ??????, ????????? ? ???????? ??????????? ????????????, ?????????.</para>

<para>????? ?? ?????????? ????? ?????? ? ????????????, ??????? ???? ?????? ?????????? ? ?????? ???????? Samba. ?????? ?? ??? ????? ????????, ?????? ???????? ??????? ????? ????????????? Samba. ????????? ?? ??? ???????? ??????????? ??????????? ??????????? ?????, ? ??????? ???? ????????? ????, ???????????? ?????????????, ? ??? ????? ?????? ????????? ???, ??? ???? ?????????? - ???????? ????.</para>

<sect2>
<title>??? ?????? Samba ?????????</title>

<para>??? ????????? ???? ???????????? Samba ???????? ?????????, ??, ? ?????-??, ??? ????? ????????????. ??????????????, ??? <smbconfoption name="security">server</smbconfoption> ???????? Samba ???? ????????. ?????? ?????????! ??? ????????? ??????, ??? Samba <emphasis>??????????</emphasis> ???????????? ?????? ?????? SMB ??? ???????????? ???????? ?????????????? ?????????????.</para>

<para>Samba ???????? ???????? ?????????? ?? ????, ????? ????? ???????????? ??????. ????? Samba ???????????? ??? ????????? ????????? ????????????, ????? ????? ???????? ????? ???????????? ?? ?????????. ?? ????????? Samba-3 ?????????? ???????????? ?????? ????????????.</para>

</sect2>

<sect2>
<title>??? ?????? Samba ???????????? ???????</title>

<para><indexterm><primary>????? ???????</primary></indexterm> ???????? &smb.conf; <smbconfoption name="security">domain</smbconfoption> ?? ?????????? Samba ????? ???? ??? ?????????? ??????. ??? ????????? ????????? Samba ???? ?????????? ??????. ?? ?????????? ??????????? ?????????? ? <link linkend="samba-pdc">Samba ? ???? PDC</link>.</para>

</sect2>

<sect2>
<title>??? ?????? Samb? ?????????? ???????</title>

<para>????????! ??? ?????? ??????. ?? ??? ?? ?? ?? ??????, ?? ???????, ??? <smbconfoption name="security">user</smbconfoption> ?????? Samba ?????????? ??????. ?????????? ??????????? ?? ????????????? ?? ????????? ????????. ??? ??????? ?????????? ???????? <link linkend="domain-member">Domain Membership</link>.</para>

</sect2>


<sect2>
<title>????????? ???????? ?????????? ? ???????? ???????.</title>

<para><quote>?????? server_validate() ?????? ?????????? ??????, ?????? ????, ????? ???????????? ???? ?????????? ? ???????? ???????? ???????? ?? ??, ??? ? ?? ??????? ???????? ????????? SMB, ?????? ?????, ??????? ??????????? ??????? ???????? ?????? ??????? - ??????? ??????? - ?????????? ????, ??????? ???????? ?? ??????? ???????, ???, ? ???? ???????, ??????, ??? ???? ???????, ?????????? ????????, ?? ????? ???????? ??? ??????????? ???????????, ??? ?????????? ???? ?????? ???? ??????. ??????? server_validate() ?????? ?????????? ??????.</quote></para>

<para>? ????? ????. ??? ?????? <smbconfoption name="security">server</smbconfoption> ? ?????? ?????? ??????? ???. ??????????, ??????????? <smbconfoption name="security">domain</smbconfoption>; ????? <smbconfoption name="security">server</smbconfoption> ??? ?? ????????? ??? "???????? ??????????????".</para>

</sect2>

<sect2>
<title>????????? ?????? ???????????? ? ?????????? ?????? smbmdash; ?????? ??????? ?????? ????????????? ?? ????????</title>

<para><quote>????? ? ??????? ????? ? ?????, ? ??????? ??????? ?????????? ?????? ????<emphasis>????????????? ????????? ?????/???_????????????; ??????????? ????????? ??????/???_????????????</emphasis></quote></para>

<para>?????? ??? ??-?? ????, ??? ??????? ?????? ???????????? ??? ?????? ???? ??????? ?? ????, ??? Samba ???? ????????? ???  ?????????? ??????. ??????? ??????, ????????? ?? ????, ??? ?????? ???? ???????????? ??????, ????? ????????  <emphasis>??????????</emphasis> ???????? ????????, ? ????? ??????????????????? ??? ????????? ?????? ??????, ???????? ??? ????????? ??????? ?????? ? Windows 2000 (? ????? ??????? ???????). ??????? ??????, ????????? ????? ????, ??? ?????? ? Samba ???? ???????????? ??????, ????? <emphasis>???????????</emphasis> ???????? ????????, ? ????? ??????????????????? ??? ????????? ?????? ?????.</para>

<para>??? ????? ???? ????????? ??????????? ??????? <command>pdbedit -L -v ???_????????????</command>. ???? ????? ????? DOMAIN, ?? ??????? ?????? ??????????? ??????, ???? ????? SERVER - ??? ????????? ??????? ?????? ???????.</para>

<para>?????????? ???? ??????? ???? ???????? - ??????? ? ????? ??????? ??????? ??????; ?????? ??? ????? ??????? ???????? ? ????????????? ????????? ????????????. ?? ????? ?????? ????????? <command>pdbedit -u ???_???????????? -I ?????</command>. ????? ??? ????? ???????????? ???????? SID ???????????? ? SID ???????? ?????? ? ???????????? ? ???????.</para>

</sect2>

</sect1>

</chapter>
