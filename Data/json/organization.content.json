[{"content":"## Project Organization and Setup\n\nOrganizing an application using a micro-framework like Bullet can sometimes be\na challenge because there is no pre-determined or enforced structure like there\nis with larger frameworks. This gives you a lot more freedom and control, but it\nalso comes with questions about where to put certain things like configuration,\ntemplates, models, etc. and the best way to organize larger projects to maintain\na good separation of concerns.\n\nThis page is offered as the recommended\nway to setup and organize an application built on Bullet so everyone on your team\nstays sane - even if that just means you.\n\n## Folder Organization\n\nTypically, it is desireable to setup your project with a few different top-level\ndirectories that contain your different main content types, and a single\nweb-accessible folder that contains the main index.php and all the frontend\nfiles.\n\nThe ideal project setup is provided in the [bullet example skeleton app](https:\/\/github.com\/vlucas\/bulletphp-skeleton)\nand looks like this:\n\n * `app` - All route files and anything related to this application\n    * `lang` - Language files, if using I18N\n    * `routes` - Route files\n    * `src` - For custom PHP classes. Anything in here is PSR-0 Autoloaded.\n    * `templates` - Template files\n * `test` - Tests for this application (any type)\n * `vendor` - Composer-created folder with Bullet and dependencies\n * `web` - All web-accessible files\n    * `assets` - All your frontend asset files like images, CSS, and javascript\n      * `images` - Image files\n      * `scripts` - JavaScript files\n      * `styles` - CSS\/Stylesheets\n\n## Route Organization\n\nThe easiest way to organize your project is to separate all the router handlers\nfor different base routes like `posts`, `events`, and `comments` into different\nsame-named files, like `posts.php`, `events.php`, and `comments.php`. This is\nvery similar to the way you would separate and organize your code in a larger\nMVC framework with controller classes. If you are following the folder structure\nabove, these would be placed in `app\/routes`. You would then `require` these\nfiles in your main `web\/index.php` file that serves your Bullet application.\n\nYour main index file would then look something like this:\n\n{% geshi 'php' %}\n<?php\ndefine('BULLET_ROOT', dirname(__DIR__));\ndefine('BULLET_APP_ROOT', BULLET_ROOT . '\/app\/');\ndefine('BULLET_SRC_ROOT', BULLET_APP_ROOT . '\/src\/');\n\n\/\/ Composer Autoloader\n$loader = require BULLET_ROOT . '\/vendor\/autoload.php';\n\n\/\/ Bullet App\n$app = new Bullet\\App(require BULLET_APP_ROOT . 'config.php');\n$request = new Bullet\\Request();\n\n\/\/ Common include\nrequire BULLET_APP_ROOT . '\/common.php';\n\n\/\/ Require all paths\/routes\n$routesDir = BULLET_APP_ROOT . '\/routes\/';\nrequire $routesDir . 'index.php';\nrequire $routesDir . 'events.php';\nrequire $routesDir . 'messages.php';\nrequire $routesDir . 'users.php';\n\n\/\/ Response\necho $app->run($request);\n{% endgeshi %}\n\nSo just like larger frameworks that have full MVC structures and controllers,\na good separation of concerns can be maintained and all the routes and\ncorresponding logic are broken up into more digestible independent files.\n\n","format":null}]